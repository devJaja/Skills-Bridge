{
  "version": 3,
  "sources": ["../../@wagmi/connectors/src/baseAccount.ts", "../../@wagmi/connectors/src/coinbaseWallet.ts", "../../@gemini-wallet/core/dist/index.js", "../../@wagmi/connectors/src/gemini.ts", "../../@wagmi/connectors/src/metaMask.ts", "../../@wagmi/connectors/src/safe.ts", "../../@wagmi/connectors/src/version.ts", "../../@wagmi/connectors/src/walletConnect.ts"],
  "sourcesContent": ["import type { createBaseAccountSDK, ProviderInterface } from '@base-org/account'\nimport {\n  ChainNotConfiguredError,\n  type Connector,\n  createConnector,\n} from '@wagmi/core'\nimport type { Mutable, Omit } from '@wagmi/core/internal'\nimport {\n  type AddEthereumChainParameter,\n  type Address,\n  getAddress,\n  type Hex,\n  numberToHex,\n  type ProviderRpcError,\n  SwitchChainError,\n  UserRejectedRequestError,\n} from 'viem'\n\nexport type BaseAccountParameters = Mutable<\n  Omit<\n    Parameters<typeof createBaseAccountSDK>[0],\n    'appChainIds' // set via wagmi config\n  >\n>\n\nexport function baseAccount(parameters: BaseAccountParameters = {}) {\n  type Provider = ProviderInterface\n  type Properties = {\n    connect(parameters?: {\n      chainId?: number | undefined\n      isReconnecting?: boolean | undefined\n    }): Promise<{\n      accounts: readonly Address[]\n      chainId: number\n    }>\n  }\n\n  let walletProvider: Provider | undefined\n\n  let accountsChanged: Connector['onAccountsChanged'] | undefined\n  let chainChanged: Connector['onChainChanged'] | undefined\n  let disconnect: Connector['onDisconnect'] | undefined\n\n  return createConnector<Provider, Properties>((config) => ({\n    id: 'baseAccount',\n    name: 'Base Account',\n    rdns: 'app.base.account',\n    type: 'baseAccount',\n    async connect({ chainId } = {}) {\n      try {\n        const provider = await this.getProvider()\n        const accounts = (\n          (await provider.request({\n            method: 'eth_requestAccounts',\n            params: [],\n          })) as string[]\n        ).map((x) => getAddress(x))\n\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.on('accountsChanged', accountsChanged)\n        }\n        if (!chainChanged) {\n          chainChanged = this.onChainChanged.bind(this)\n          provider.on('chainChanged', chainChanged)\n        }\n        if (!disconnect) {\n          disconnect = this.onDisconnect.bind(this)\n          provider.on('disconnect', disconnect)\n        }\n\n        // Switch to chain if provided\n        let currentChainId = await this.getChainId()\n        if (chainId && currentChainId !== chainId) {\n          const chain = await this.switchChain!({ chainId }).catch((error) => {\n            if (error.code === UserRejectedRequestError.code) throw error\n            return { id: currentChainId }\n          })\n          currentChainId = chain?.id ?? currentChainId\n        }\n\n        return { accounts, chainId: currentChainId }\n      } catch (error) {\n        if (\n          /(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(\n            (error as Error).message,\n          )\n        )\n          throw new UserRejectedRequestError(error as Error)\n        throw error\n      }\n    },\n    async disconnect() {\n      const provider = await this.getProvider()\n\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n\n      provider.disconnect()\n    },\n    async getAccounts() {\n      const provider = await this.getProvider()\n      return (\n        (await provider.request({\n          method: 'eth_accounts',\n        })) as string[]\n      ).map((x) => getAddress(x))\n    },\n    async getChainId() {\n      const provider = await this.getProvider()\n      const chainId = (await provider.request({\n        method: 'eth_chainId',\n      })) as Hex\n      return Number(chainId)\n    },\n    async getProvider() {\n      if (!walletProvider) {\n        const preference = (() => {\n          if (typeof parameters.preference === 'string')\n            return { options: parameters.preference }\n          return {\n            ...parameters.preference,\n            options: parameters.preference?.options ?? 'all',\n          }\n        })()\n\n        const { createBaseAccountSDK } = await import('@base-org/account')\n        const sdk = createBaseAccountSDK({\n          ...parameters,\n          appChainIds: config.chains.map((x) => x.id),\n          preference,\n        })\n\n        walletProvider = sdk.getProvider()\n      }\n\n      return walletProvider\n    },\n    async isAuthorized() {\n      try {\n        const accounts = await this.getAccounts()\n        return !!accounts.length\n      } catch {\n        return false\n      }\n    },\n    async switchChain({ addEthereumChainParameter, chainId }) {\n      const chain = config.chains.find((chain) => chain.id === chainId)\n      if (!chain) throw new SwitchChainError(new ChainNotConfiguredError())\n\n      const provider = await this.getProvider()\n\n      try {\n        await provider.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{ chainId: numberToHex(chain.id) }],\n        })\n        return chain\n      } catch (error) {\n        // Indicates chain is not added to provider\n        if ((error as ProviderRpcError).code === 4902) {\n          try {\n            let blockExplorerUrls: string[] | undefined\n            if (addEthereumChainParameter?.blockExplorerUrls)\n              blockExplorerUrls = addEthereumChainParameter.blockExplorerUrls\n            else\n              blockExplorerUrls = chain.blockExplorers?.default.url\n                ? [chain.blockExplorers?.default.url]\n                : []\n\n            let rpcUrls: readonly string[]\n            if (addEthereumChainParameter?.rpcUrls?.length)\n              rpcUrls = addEthereumChainParameter.rpcUrls\n            else rpcUrls = [chain.rpcUrls.default?.http[0] ?? '']\n\n            const addEthereumChain = {\n              blockExplorerUrls,\n              chainId: numberToHex(chainId),\n              chainName: addEthereumChainParameter?.chainName ?? chain.name,\n              iconUrls: addEthereumChainParameter?.iconUrls,\n              nativeCurrency:\n                addEthereumChainParameter?.nativeCurrency ??\n                chain.nativeCurrency,\n              rpcUrls,\n            } satisfies AddEthereumChainParameter\n\n            await provider.request({\n              method: 'wallet_addEthereumChain',\n              params: [addEthereumChain],\n            })\n\n            return chain\n          } catch (error) {\n            throw new UserRejectedRequestError(error as Error)\n          }\n        }\n\n        throw new SwitchChainError(error as Error)\n      }\n    },\n    onAccountsChanged(accounts) {\n      if (accounts.length === 0) this.onDisconnect()\n      else\n        config.emitter.emit('change', {\n          accounts: accounts.map((x) => getAddress(x)),\n        })\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect(_error) {\n      config.emitter.emit('disconnect')\n\n      const provider = await this.getProvider()\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n    },\n  }))\n}\n", "import type {\n  createCoinbaseWalletSDK,\n  Preference,\n  ProviderInterface,\n} from '@coinbase/wallet-sdk'\nimport {\n  ChainNotConfiguredError,\n  type Connector,\n  createConnector,\n} from '@wagmi/core'\nimport type { Compute, Mutable, Omit } from '@wagmi/core/internal'\nimport type {\n  CoinbaseWalletProvider as CBW_Provider,\n  CoinbaseWalletSDK as CBW_SDK,\n} from 'cbw-sdk'\nimport {\n  type AddEthereumChainParameter,\n  type Address,\n  getAddress,\n  type Hex,\n  numberToHex,\n  type ProviderRpcError,\n  SwitchChainError,\n  UserRejectedRequestError,\n} from 'viem'\n\ntype Version = '3' | '4'\n\nexport type CoinbaseWalletParameters<version extends Version = '3'> =\n  version extends '4'\n    ? Compute<\n        {\n          headlessMode?: false | undefined\n          /** Coinbase Wallet SDK version */\n          version?: version | '3' | undefined\n        } & Version4Parameters\n      >\n    : Compute<\n        {\n          /**\n           * @deprecated `headlessMode` will be removed in the next major version. Upgrade to `version: '4'`.\n           */\n          headlessMode?: true | undefined\n          /**\n           * Coinbase Wallet SDK version\n           * @deprecated Version 3 will be removed in the next major version. Upgrade to `version: '4'`.\n           * @default '4'\n           */\n          version?: version | '4' | undefined\n        } & Version3Parameters\n      >\n\ncoinbaseWallet.type = 'coinbaseWallet' as const\nexport function coinbaseWallet<version extends Version>(\n  parameters: CoinbaseWalletParameters<version> = {} as any,\n): version extends '4'\n  ? ReturnType<typeof version4>\n  : ReturnType<typeof version3> {\n  if (parameters.version === '3' || parameters.headlessMode)\n    return version3(parameters as Version3Parameters) as any\n  return version4(parameters as Version4Parameters) as any\n}\n\ntype Version4Parameters = Mutable<\n  Omit<\n    Parameters<typeof createCoinbaseWalletSDK>[0],\n    | 'appChainIds' // set via wagmi config\n    | 'preference'\n  > & {\n    // TODO(v3): Remove `Preference['options']`\n    /**\n     * Preference for the type of wallet to display.\n     * @default 'all'\n     */\n    preference?: Preference['options'] | Compute<Preference> | undefined\n  }\n>\n\nfunction version4(parameters: Version4Parameters) {\n  type Provider = ProviderInterface & {\n    // for backwards compatibility\n    close?(): void\n  }\n  type Properties = {\n    connect(parameters?: {\n      chainId?: number | undefined\n      instantOnboarding?: boolean | undefined\n      isReconnecting?: boolean | undefined\n    }): Promise<{\n      accounts: readonly Address[]\n      chainId: number\n    }>\n  }\n\n  let walletProvider: Provider | undefined\n\n  let accountsChanged: Connector['onAccountsChanged'] | undefined\n  let chainChanged: Connector['onChainChanged'] | undefined\n  let disconnect: Connector['onDisconnect'] | undefined\n\n  return createConnector<Provider, Properties>((config) => ({\n    id: 'coinbaseWalletSDK',\n    name: 'Coinbase Wallet',\n    rdns: 'com.coinbase.wallet',\n    type: coinbaseWallet.type,\n    async connect({ chainId, ...rest } = {}) {\n      try {\n        const provider = await this.getProvider()\n        const accounts = (\n          (await provider.request({\n            method: 'eth_requestAccounts',\n            params:\n              'instantOnboarding' in rest && rest.instantOnboarding\n                ? [{ onboarding: 'instant' }]\n                : [],\n          })) as string[]\n        ).map((x) => getAddress(x))\n\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.on('accountsChanged', accountsChanged)\n        }\n        if (!chainChanged) {\n          chainChanged = this.onChainChanged.bind(this)\n          provider.on('chainChanged', chainChanged)\n        }\n        if (!disconnect) {\n          disconnect = this.onDisconnect.bind(this)\n          provider.on('disconnect', disconnect)\n        }\n\n        // Switch to chain if provided\n        let currentChainId = await this.getChainId()\n        if (chainId && currentChainId !== chainId) {\n          const chain = await this.switchChain!({ chainId }).catch((error) => {\n            if (error.code === UserRejectedRequestError.code) throw error\n            return { id: currentChainId }\n          })\n          currentChainId = chain?.id ?? currentChainId\n        }\n\n        return { accounts, chainId: currentChainId }\n      } catch (error) {\n        if (\n          /(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(\n            (error as Error).message,\n          )\n        )\n          throw new UserRejectedRequestError(error as Error)\n        throw error\n      }\n    },\n    async disconnect() {\n      const provider = await this.getProvider()\n\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n\n      provider.disconnect()\n      provider.close?.()\n    },\n    async getAccounts() {\n      const provider = await this.getProvider()\n      return (\n        (await provider.request({\n          method: 'eth_accounts',\n        })) as string[]\n      ).map((x) => getAddress(x))\n    },\n    async getChainId() {\n      const provider = await this.getProvider()\n      const chainId = (await provider.request({\n        method: 'eth_chainId',\n      })) as Hex\n      return Number(chainId)\n    },\n    async getProvider() {\n      if (!walletProvider) {\n        const preference = (() => {\n          if (typeof parameters.preference === 'string')\n            return { options: parameters.preference }\n          return {\n            ...parameters.preference,\n            options: parameters.preference?.options ?? 'all',\n          }\n        })()\n\n        const { createCoinbaseWalletSDK } = await import('@coinbase/wallet-sdk')\n        const sdk = createCoinbaseWalletSDK({\n          ...parameters,\n          appChainIds: config.chains.map((x) => x.id),\n          preference,\n        })\n\n        walletProvider = sdk.getProvider()\n      }\n\n      return walletProvider\n    },\n    async isAuthorized() {\n      try {\n        const accounts = await this.getAccounts()\n        return !!accounts.length\n      } catch {\n        return false\n      }\n    },\n    async switchChain({ addEthereumChainParameter, chainId }) {\n      const chain = config.chains.find((chain) => chain.id === chainId)\n      if (!chain) throw new SwitchChainError(new ChainNotConfiguredError())\n\n      const provider = await this.getProvider()\n\n      try {\n        await provider.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{ chainId: numberToHex(chain.id) }],\n        })\n        return chain\n      } catch (error) {\n        // Indicates chain is not added to provider\n        if ((error as ProviderRpcError).code === 4902) {\n          try {\n            let blockExplorerUrls: string[] | undefined\n            if (addEthereumChainParameter?.blockExplorerUrls)\n              blockExplorerUrls = addEthereumChainParameter.blockExplorerUrls\n            else\n              blockExplorerUrls = chain.blockExplorers?.default.url\n                ? [chain.blockExplorers?.default.url]\n                : []\n\n            let rpcUrls: readonly string[]\n            if (addEthereumChainParameter?.rpcUrls?.length)\n              rpcUrls = addEthereumChainParameter.rpcUrls\n            else rpcUrls = [chain.rpcUrls.default?.http[0] ?? '']\n\n            const addEthereumChain = {\n              blockExplorerUrls,\n              chainId: numberToHex(chainId),\n              chainName: addEthereumChainParameter?.chainName ?? chain.name,\n              iconUrls: addEthereumChainParameter?.iconUrls,\n              nativeCurrency:\n                addEthereumChainParameter?.nativeCurrency ??\n                chain.nativeCurrency,\n              rpcUrls,\n            } satisfies AddEthereumChainParameter\n\n            await provider.request({\n              method: 'wallet_addEthereumChain',\n              params: [addEthereumChain],\n            })\n\n            return chain\n          } catch (error) {\n            throw new UserRejectedRequestError(error as Error)\n          }\n        }\n\n        throw new SwitchChainError(error as Error)\n      }\n    },\n    onAccountsChanged(accounts) {\n      if (accounts.length === 0) this.onDisconnect()\n      else\n        config.emitter.emit('change', {\n          accounts: accounts.map((x) => getAddress(x)),\n        })\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect(_error) {\n      config.emitter.emit('disconnect')\n\n      const provider = await this.getProvider()\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n    },\n  }))\n}\n\ntype Version3Parameters = Mutable<\n  Omit<\n    ConstructorParameters<typeof CBW_SDK>[0],\n    'reloadOnDisconnect' // remove property since TSDoc says default is `true`\n  >\n> & {\n  /**\n   * Fallback Ethereum JSON RPC URL\n   * @default \"\"\n   */\n  jsonRpcUrl?: string | undefined\n  /**\n   * Fallback Ethereum Chain ID\n   * @default 1\n   */\n  chainId?: number | undefined\n  /**\n   * Whether or not to reload dapp automatically after disconnect.\n   * @default false\n   */\n  reloadOnDisconnect?: boolean | undefined\n}\n\nfunction version3(parameters: Version3Parameters) {\n  const reloadOnDisconnect = false\n\n  type Provider = CBW_Provider\n\n  let sdk: CBW_SDK | undefined\n  let walletProvider: Provider | undefined\n\n  let accountsChanged: Connector['onAccountsChanged'] | undefined\n  let chainChanged: Connector['onChainChanged'] | undefined\n  let disconnect: Connector['onDisconnect'] | undefined\n\n  return createConnector<Provider>((config) => ({\n    id: 'coinbaseWalletSDK',\n    name: 'Coinbase Wallet',\n    rdns: 'com.coinbase.wallet',\n    type: coinbaseWallet.type,\n    async connect({ chainId } = {}) {\n      try {\n        const provider = await this.getProvider()\n        const accounts = (\n          (await provider.request({\n            method: 'eth_requestAccounts',\n          })) as string[]\n        ).map((x) => getAddress(x))\n\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.on('accountsChanged', accountsChanged)\n        }\n        if (!chainChanged) {\n          chainChanged = this.onChainChanged.bind(this)\n          provider.on('chainChanged', chainChanged)\n        }\n        if (!disconnect) {\n          disconnect = this.onDisconnect.bind(this)\n          provider.on('disconnect', disconnect)\n        }\n\n        // Switch to chain if provided\n        let currentChainId = await this.getChainId()\n        if (chainId && currentChainId !== chainId) {\n          const chain = await this.switchChain!({ chainId }).catch((error) => {\n            if (error.code === UserRejectedRequestError.code) throw error\n            return { id: currentChainId }\n          })\n          currentChainId = chain?.id ?? currentChainId\n        }\n\n        return { accounts, chainId: currentChainId }\n      } catch (error) {\n        if (\n          /(user closed modal|accounts received is empty|user denied account)/i.test(\n            (error as Error).message,\n          )\n        )\n          throw new UserRejectedRequestError(error as Error)\n        throw error\n      }\n    },\n    async disconnect() {\n      const provider = await this.getProvider()\n\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n\n      provider.disconnect()\n      provider.close()\n    },\n    async getAccounts() {\n      const provider = await this.getProvider()\n      return (\n        await provider.request<string[]>({\n          method: 'eth_accounts',\n        })\n      ).map((x) => getAddress(x))\n    },\n    async getChainId() {\n      const provider = await this.getProvider()\n      const chainId = await provider.request<Hex>({\n        method: 'eth_chainId',\n      })\n      return Number(chainId)\n    },\n    async getProvider() {\n      if (!walletProvider) {\n        // Unwrapping import for Vite compatibility.\n        // See: https://github.com/vitejs/vite/issues/9703\n        const CoinbaseWalletSDK = await (async () => {\n          const { default: SDK } = await import('cbw-sdk')\n          if (typeof SDK !== 'function' && typeof SDK.default === 'function')\n            return SDK.default\n          return SDK as unknown as typeof SDK.default\n        })()\n\n        sdk = new CoinbaseWalletSDK({ ...parameters, reloadOnDisconnect })\n\n        // Force types to retrieve private `walletExtension` method from the Coinbase Wallet SDK.\n        const walletExtensionChainId = (\n          sdk as unknown as {\n            get walletExtension(): { getChainId(): number } | undefined\n          }\n        ).walletExtension?.getChainId()\n\n        const chain =\n          config.chains.find((chain) =>\n            parameters.chainId\n              ? chain.id === parameters.chainId\n              : chain.id === walletExtensionChainId,\n          ) || config.chains[0]\n        const chainId = parameters.chainId || chain?.id\n        const jsonRpcUrl =\n          parameters.jsonRpcUrl || chain?.rpcUrls.default.http[0]\n\n        walletProvider = sdk.makeWeb3Provider(jsonRpcUrl, chainId)\n      }\n\n      return walletProvider\n    },\n    async isAuthorized() {\n      try {\n        const accounts = await this.getAccounts()\n        return !!accounts.length\n      } catch {\n        return false\n      }\n    },\n    async switchChain({ addEthereumChainParameter, chainId }) {\n      const chain = config.chains.find((chain) => chain.id === chainId)\n      if (!chain) throw new SwitchChainError(new ChainNotConfiguredError())\n\n      const provider = await this.getProvider()\n\n      try {\n        await provider.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{ chainId: numberToHex(chain.id) }],\n        })\n        return chain\n      } catch (error) {\n        // Indicates chain is not added to provider\n        if ((error as ProviderRpcError).code === 4902) {\n          try {\n            let blockExplorerUrls: string[] | undefined\n            if (addEthereumChainParameter?.blockExplorerUrls)\n              blockExplorerUrls = addEthereumChainParameter.blockExplorerUrls\n            else\n              blockExplorerUrls = chain.blockExplorers?.default.url\n                ? [chain.blockExplorers?.default.url]\n                : []\n\n            let rpcUrls: readonly string[]\n            if (addEthereumChainParameter?.rpcUrls?.length)\n              rpcUrls = addEthereumChainParameter.rpcUrls\n            else rpcUrls = [chain.rpcUrls.default?.http[0] ?? '']\n\n            const addEthereumChain = {\n              blockExplorerUrls,\n              chainId: numberToHex(chainId),\n              chainName: addEthereumChainParameter?.chainName ?? chain.name,\n              iconUrls: addEthereumChainParameter?.iconUrls,\n              nativeCurrency:\n                addEthereumChainParameter?.nativeCurrency ??\n                chain.nativeCurrency,\n              rpcUrls,\n            } satisfies AddEthereumChainParameter\n\n            await provider.request({\n              method: 'wallet_addEthereumChain',\n              params: [addEthereumChain],\n            })\n\n            return chain\n          } catch (error) {\n            throw new UserRejectedRequestError(error as Error)\n          }\n        }\n\n        throw new SwitchChainError(error as Error)\n      }\n    },\n    onAccountsChanged(accounts) {\n      if (accounts.length === 0) this.onDisconnect()\n      else\n        config.emitter.emit('change', {\n          accounts: accounts.map((x) => getAddress(x)),\n        })\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect(_error) {\n      config.emitter.emit('disconnect')\n\n      const provider = await this.getProvider()\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n    },\n  }))\n}\n", "var __create = Object.create;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __toESM = (mod, isNodeMode, target) => {\n  target = mod != null ? __create(__getProtoOf(mod)) : {};\n  const to = isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target;\n  for (let key of __getOwnPropNames(mod))\n    if (!__hasOwnProp.call(to, key))\n      __defProp(to, key, {\n        get: () => mod[key],\n        enumerable: true\n      });\n  return to;\n};\nvar __commonJS = (cb, mod) => () => (mod || cb((mod = { exports: {} }).exports, mod), mod.exports);\n\n// node_modules/fast-safe-stringify/index.js\nvar require_fast_safe_stringify = __commonJS((exports, module) => {\n  module.exports = stringify;\n  stringify.default = stringify;\n  stringify.stable = deterministicStringify;\n  stringify.stableStringify = deterministicStringify;\n  var LIMIT_REPLACE_NODE = \"[...]\";\n  var CIRCULAR_REPLACE_NODE = \"[Circular]\";\n  var arr = [];\n  var replacerStack = [];\n  function defaultOptions() {\n    return {\n      depthLimit: Number.MAX_SAFE_INTEGER,\n      edgesLimit: Number.MAX_SAFE_INTEGER\n    };\n  }\n  function stringify(obj, replacer, spacer, options) {\n    if (typeof options === \"undefined\") {\n      options = defaultOptions();\n    }\n    decirc(obj, \"\", 0, [], undefined, 0, options);\n    var res;\n    try {\n      if (replacerStack.length === 0) {\n        res = JSON.stringify(obj, replacer, spacer);\n      } else {\n        res = JSON.stringify(obj, replaceGetterValues(replacer), spacer);\n      }\n    } catch (_) {\n      return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\");\n    } finally {\n      while (arr.length !== 0) {\n        var part = arr.pop();\n        if (part.length === 4) {\n          Object.defineProperty(part[0], part[1], part[3]);\n        } else {\n          part[0][part[1]] = part[2];\n        }\n      }\n    }\n    return res;\n  }\n  function setReplace(replace, val, k, parent) {\n    var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k);\n    if (propertyDescriptor.get !== undefined) {\n      if (propertyDescriptor.configurable) {\n        Object.defineProperty(parent, k, { value: replace });\n        arr.push([parent, k, val, propertyDescriptor]);\n      } else {\n        replacerStack.push([val, k, replace]);\n      }\n    } else {\n      parent[k] = replace;\n      arr.push([parent, k, val]);\n    }\n  }\n  function decirc(val, k, edgeIndex, stack, parent, depth, options) {\n    depth += 1;\n    var i;\n    if (typeof val === \"object\" && val !== null) {\n      for (i = 0;i < stack.length; i++) {\n        if (stack[i] === val) {\n          setReplace(CIRCULAR_REPLACE_NODE, val, k, parent);\n          return;\n        }\n      }\n      if (typeof options.depthLimit !== \"undefined\" && depth > options.depthLimit) {\n        setReplace(LIMIT_REPLACE_NODE, val, k, parent);\n        return;\n      }\n      if (typeof options.edgesLimit !== \"undefined\" && edgeIndex + 1 > options.edgesLimit) {\n        setReplace(LIMIT_REPLACE_NODE, val, k, parent);\n        return;\n      }\n      stack.push(val);\n      if (Array.isArray(val)) {\n        for (i = 0;i < val.length; i++) {\n          decirc(val[i], i, i, stack, val, depth, options);\n        }\n      } else {\n        var keys = Object.keys(val);\n        for (i = 0;i < keys.length; i++) {\n          var key = keys[i];\n          decirc(val[key], key, i, stack, val, depth, options);\n        }\n      }\n      stack.pop();\n    }\n  }\n  function compareFunction(a, b) {\n    if (a < b) {\n      return -1;\n    }\n    if (a > b) {\n      return 1;\n    }\n    return 0;\n  }\n  function deterministicStringify(obj, replacer, spacer, options) {\n    if (typeof options === \"undefined\") {\n      options = defaultOptions();\n    }\n    var tmp = deterministicDecirc(obj, \"\", 0, [], undefined, 0, options) || obj;\n    var res;\n    try {\n      if (replacerStack.length === 0) {\n        res = JSON.stringify(tmp, replacer, spacer);\n      } else {\n        res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer);\n      }\n    } catch (_) {\n      return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\");\n    } finally {\n      while (arr.length !== 0) {\n        var part = arr.pop();\n        if (part.length === 4) {\n          Object.defineProperty(part[0], part[1], part[3]);\n        } else {\n          part[0][part[1]] = part[2];\n        }\n      }\n    }\n    return res;\n  }\n  function deterministicDecirc(val, k, edgeIndex, stack, parent, depth, options) {\n    depth += 1;\n    var i;\n    if (typeof val === \"object\" && val !== null) {\n      for (i = 0;i < stack.length; i++) {\n        if (stack[i] === val) {\n          setReplace(CIRCULAR_REPLACE_NODE, val, k, parent);\n          return;\n        }\n      }\n      try {\n        if (typeof val.toJSON === \"function\") {\n          return;\n        }\n      } catch (_) {\n        return;\n      }\n      if (typeof options.depthLimit !== \"undefined\" && depth > options.depthLimit) {\n        setReplace(LIMIT_REPLACE_NODE, val, k, parent);\n        return;\n      }\n      if (typeof options.edgesLimit !== \"undefined\" && edgeIndex + 1 > options.edgesLimit) {\n        setReplace(LIMIT_REPLACE_NODE, val, k, parent);\n        return;\n      }\n      stack.push(val);\n      if (Array.isArray(val)) {\n        for (i = 0;i < val.length; i++) {\n          deterministicDecirc(val[i], i, i, stack, val, depth, options);\n        }\n      } else {\n        var tmp = {};\n        var keys = Object.keys(val).sort(compareFunction);\n        for (i = 0;i < keys.length; i++) {\n          var key = keys[i];\n          deterministicDecirc(val[key], key, i, stack, val, depth, options);\n          tmp[key] = val[key];\n        }\n        if (typeof parent !== \"undefined\") {\n          arr.push([parent, k, val]);\n          parent[k] = tmp;\n        } else {\n          return tmp;\n        }\n      }\n      stack.pop();\n    }\n  }\n  function replaceGetterValues(replacer) {\n    replacer = typeof replacer !== \"undefined\" ? replacer : function(k, v) {\n      return v;\n    };\n    return function(key, val) {\n      if (replacerStack.length > 0) {\n        for (var i = 0;i < replacerStack.length; i++) {\n          var part = replacerStack[i];\n          if (part[1] === key && part[0] === val) {\n            val = part[2];\n            replacerStack.splice(i, 1);\n            break;\n          }\n        }\n      }\n      return replacer.call(this, key, val);\n    };\n  }\n});\n\n// node_modules/eventemitter3/index.js\nvar require_eventemitter3 = __commonJS((exports, module) => {\n  var has = Object.prototype.hasOwnProperty;\n  var prefix = \"~\";\n  function Events() {}\n  if (Object.create) {\n    Events.prototype = Object.create(null);\n    if (!new Events().__proto__)\n      prefix = false;\n  }\n  function EE(fn, context, once) {\n    this.fn = fn;\n    this.context = context;\n    this.once = once || false;\n  }\n  function addListener(emitter, event, fn, context, once) {\n    if (typeof fn !== \"function\") {\n      throw new TypeError(\"The listener must be a function\");\n    }\n    var listener = new EE(fn, context || emitter, once), evt = prefix ? prefix + event : event;\n    if (!emitter._events[evt])\n      emitter._events[evt] = listener, emitter._eventsCount++;\n    else if (!emitter._events[evt].fn)\n      emitter._events[evt].push(listener);\n    else\n      emitter._events[evt] = [emitter._events[evt], listener];\n    return emitter;\n  }\n  function clearEvent(emitter, evt) {\n    if (--emitter._eventsCount === 0)\n      emitter._events = new Events;\n    else\n      delete emitter._events[evt];\n  }\n  function EventEmitter() {\n    this._events = new Events;\n    this._eventsCount = 0;\n  }\n  EventEmitter.prototype.eventNames = function eventNames() {\n    var names = [], events, name;\n    if (this._eventsCount === 0)\n      return names;\n    for (name in events = this._events) {\n      if (has.call(events, name))\n        names.push(prefix ? name.slice(1) : name);\n    }\n    if (Object.getOwnPropertySymbols) {\n      return names.concat(Object.getOwnPropertySymbols(events));\n    }\n    return names;\n  };\n  EventEmitter.prototype.listeners = function listeners(event) {\n    var evt = prefix ? prefix + event : event, handlers = this._events[evt];\n    if (!handlers)\n      return [];\n    if (handlers.fn)\n      return [handlers.fn];\n    for (var i = 0, l = handlers.length, ee = new Array(l);i < l; i++) {\n      ee[i] = handlers[i].fn;\n    }\n    return ee;\n  };\n  EventEmitter.prototype.listenerCount = function listenerCount(event) {\n    var evt = prefix ? prefix + event : event, listeners = this._events[evt];\n    if (!listeners)\n      return 0;\n    if (listeners.fn)\n      return 1;\n    return listeners.length;\n  };\n  EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n    var evt = prefix ? prefix + event : event;\n    if (!this._events[evt])\n      return false;\n    var listeners = this._events[evt], len = arguments.length, args, i;\n    if (listeners.fn) {\n      if (listeners.once)\n        this.removeListener(event, listeners.fn, undefined, true);\n      switch (len) {\n        case 1:\n          return listeners.fn.call(listeners.context), true;\n        case 2:\n          return listeners.fn.call(listeners.context, a1), true;\n        case 3:\n          return listeners.fn.call(listeners.context, a1, a2), true;\n        case 4:\n          return listeners.fn.call(listeners.context, a1, a2, a3), true;\n        case 5:\n          return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n        case 6:\n          return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n      }\n      for (i = 1, args = new Array(len - 1);i < len; i++) {\n        args[i - 1] = arguments[i];\n      }\n      listeners.fn.apply(listeners.context, args);\n    } else {\n      var length = listeners.length, j;\n      for (i = 0;i < length; i++) {\n        if (listeners[i].once)\n          this.removeListener(event, listeners[i].fn, undefined, true);\n        switch (len) {\n          case 1:\n            listeners[i].fn.call(listeners[i].context);\n            break;\n          case 2:\n            listeners[i].fn.call(listeners[i].context, a1);\n            break;\n          case 3:\n            listeners[i].fn.call(listeners[i].context, a1, a2);\n            break;\n          case 4:\n            listeners[i].fn.call(listeners[i].context, a1, a2, a3);\n            break;\n          default:\n            if (!args)\n              for (j = 1, args = new Array(len - 1);j < len; j++) {\n                args[j - 1] = arguments[j];\n              }\n            listeners[i].fn.apply(listeners[i].context, args);\n        }\n      }\n    }\n    return true;\n  };\n  EventEmitter.prototype.on = function on(event, fn, context) {\n    return addListener(this, event, fn, context, false);\n  };\n  EventEmitter.prototype.once = function once(event, fn, context) {\n    return addListener(this, event, fn, context, true);\n  };\n  EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n    var evt = prefix ? prefix + event : event;\n    if (!this._events[evt])\n      return this;\n    if (!fn) {\n      clearEvent(this, evt);\n      return this;\n    }\n    var listeners = this._events[evt];\n    if (listeners.fn) {\n      if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {\n        clearEvent(this, evt);\n      }\n    } else {\n      for (var i = 0, events = [], length = listeners.length;i < length; i++) {\n        if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {\n          events.push(listeners[i]);\n        }\n      }\n      if (events.length)\n        this._events[evt] = events.length === 1 ? events[0] : events;\n      else\n        clearEvent(this, evt);\n    }\n    return this;\n  };\n  EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n    var evt;\n    if (event) {\n      evt = prefix ? prefix + event : event;\n      if (this._events[evt])\n        clearEvent(this, evt);\n    } else {\n      this._events = new Events;\n      this._eventsCount = 0;\n    }\n    return this;\n  };\n  EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n  EventEmitter.prefixed = prefix;\n  EventEmitter.EventEmitter = EventEmitter;\n  if (typeof module !== \"undefined\") {\n    module.exports = EventEmitter;\n  }\n});\n\n// node_modules/viem/_esm/utils/data/isHex.js\nfunction isHex(value, { strict = true } = {}) {\n  if (!value)\n    return false;\n  if (typeof value !== \"string\")\n    return false;\n  return strict ? /^0x[0-9a-fA-F]*$/.test(value) : value.startsWith(\"0x\");\n}\n\n// node_modules/@metamask/superstruct/dist/error.mjs\nclass StructError extends TypeError {\n  constructor(failure, failures) {\n    let cached;\n    const { message, explanation, ...rest } = failure;\n    const { path } = failure;\n    const cause = path.length === 0 ? message : `At path: ${path.join(\".\")} -- ${message}`;\n    super(explanation ?? cause);\n    if (explanation !== null && explanation !== undefined) {\n      this.cause = cause;\n    }\n    Object.assign(this, rest);\n    this.name = this.constructor.name;\n    this.failures = () => {\n      return cached ?? (cached = [failure, ...failures()]);\n    };\n  }\n}\n\n// node_modules/@metamask/superstruct/dist/utils.mjs\nfunction isIterable(value) {\n  return isObject(value) && typeof value[Symbol.iterator] === \"function\";\n}\nfunction isObject(value) {\n  return typeof value === \"object\" && value !== null;\n}\nfunction print(value) {\n  if (typeof value === \"symbol\") {\n    return value.toString();\n  }\n  return typeof value === \"string\" ? JSON.stringify(value) : `${value}`;\n}\nfunction shiftIterator(input) {\n  const { done, value } = input.next();\n  return done ? undefined : value;\n}\nfunction toFailure(result, context, struct, value) {\n  if (result === true) {\n    return;\n  } else if (result === false) {\n    result = {};\n  } else if (typeof result === \"string\") {\n    result = { message: result };\n  }\n  const { path, branch } = context;\n  const { type } = struct;\n  const { refinement, message = `Expected a value of type \\`${type}\\`${refinement ? ` with refinement \\`${refinement}\\`` : \"\"}, but received: \\`${print(value)}\\`` } = result;\n  return {\n    value,\n    type,\n    refinement,\n    key: path[path.length - 1],\n    path,\n    branch,\n    ...result,\n    message\n  };\n}\nfunction* toFailures(result, context, struct, value) {\n  if (!isIterable(result)) {\n    result = [result];\n  }\n  for (const validationResult of result) {\n    const failure = toFailure(validationResult, context, struct, value);\n    if (failure) {\n      yield failure;\n    }\n  }\n}\nfunction* run(value, struct, options = {}) {\n  const { path = [], branch = [value], coerce = false, mask = false } = options;\n  const context = { path, branch };\n  if (coerce) {\n    value = struct.coercer(value, context);\n    if (mask && struct.type !== \"type\" && isObject(struct.schema) && isObject(value) && !Array.isArray(value)) {\n      for (const key in value) {\n        if (struct.schema[key] === undefined) {\n          delete value[key];\n        }\n      }\n    }\n  }\n  let status = \"valid\";\n  for (const failure of struct.validator(value, context)) {\n    failure.explanation = options.message;\n    status = \"not_valid\";\n    yield [failure, undefined];\n  }\n  for (let [innerKey, innerValue, innerStruct] of struct.entries(value, context)) {\n    const iterable = run(innerValue, innerStruct, {\n      path: innerKey === undefined ? path : [...path, innerKey],\n      branch: innerKey === undefined ? branch : [...branch, innerValue],\n      coerce,\n      mask,\n      message: options.message\n    });\n    for (const result of iterable) {\n      if (result[0]) {\n        status = result[0].refinement === null || result[0].refinement === undefined ? \"not_valid\" : \"not_refined\";\n        yield [result[0], undefined];\n      } else if (coerce) {\n        innerValue = result[1];\n        if (innerKey === undefined) {\n          value = innerValue;\n        } else if (value instanceof Map) {\n          value.set(innerKey, innerValue);\n        } else if (value instanceof Set) {\n          value.add(innerValue);\n        } else if (isObject(value)) {\n          if (innerValue !== undefined || innerKey in value) {\n            value[innerKey] = innerValue;\n          }\n        }\n      }\n    }\n  }\n  if (status !== \"not_valid\") {\n    for (const failure of struct.refiner(value, context)) {\n      failure.explanation = options.message;\n      status = \"not_refined\";\n      yield [failure, undefined];\n    }\n  }\n  if (status === \"valid\") {\n    yield [undefined, value];\n  }\n}\n\n// node_modules/@metamask/superstruct/dist/struct.mjs\nclass Struct {\n  constructor(props) {\n    const { type, schema, validator, refiner, coercer = (value) => value, entries = function* () {} } = props;\n    this.type = type;\n    this.schema = schema;\n    this.entries = entries;\n    this.coercer = coercer;\n    if (validator) {\n      this.validator = (value, context) => {\n        const result = validator(value, context);\n        return toFailures(result, context, this, value);\n      };\n    } else {\n      this.validator = () => [];\n    }\n    if (refiner) {\n      this.refiner = (value, context) => {\n        const result = refiner(value, context);\n        return toFailures(result, context, this, value);\n      };\n    } else {\n      this.refiner = () => [];\n    }\n  }\n  assert(value, message) {\n    return assert(value, this, message);\n  }\n  create(value, message) {\n    return create(value, this, message);\n  }\n  is(value) {\n    return is(value, this);\n  }\n  mask(value, message) {\n    return mask(value, this, message);\n  }\n  validate(value, options = {}) {\n    return validate(value, this, options);\n  }\n}\nvar ExactOptionalBrand = \"EXACT_OPTIONAL\";\n\nclass ExactOptionalStruct extends Struct {\n  constructor(props) {\n    super({\n      ...props,\n      type: `exact optional ${props.type}`\n    });\n    this.brand = ExactOptionalBrand;\n  }\n  static isExactOptional(value) {\n    return isObject(value) && \"brand\" in value && value.brand === ExactOptionalBrand;\n  }\n}\nfunction assert(value, struct, message) {\n  const result = validate(value, struct, { message });\n  if (result[0]) {\n    throw result[0];\n  }\n}\nfunction create(value, struct, message) {\n  const result = validate(value, struct, { coerce: true, message });\n  if (result[0]) {\n    throw result[0];\n  } else {\n    return result[1];\n  }\n}\nfunction mask(value, struct, message) {\n  const result = validate(value, struct, { coerce: true, mask: true, message });\n  if (result[0]) {\n    throw result[0];\n  } else {\n    return result[1];\n  }\n}\nfunction is(value, struct) {\n  const result = validate(value, struct);\n  return !result[0];\n}\nfunction validate(value, struct, options = {}) {\n  const tuples = run(value, struct, options);\n  const tuple = shiftIterator(tuples);\n  if (tuple[0]) {\n    const error = new StructError(tuple[0], function* () {\n      for (const innerTuple of tuples) {\n        if (innerTuple[0]) {\n          yield innerTuple[0];\n        }\n      }\n    });\n    return [error, undefined];\n  }\n  const validatedValue = tuple[1];\n  return [undefined, validatedValue];\n}\n\n// node_modules/@metamask/superstruct/dist/structs/utilities.mjs\nfunction define(name, validator) {\n  return new Struct({ type: name, schema: null, validator });\n}\n\n// node_modules/@metamask/superstruct/dist/structs/types.mjs\nfunction any() {\n  return define(\"any\", () => true);\n}\nfunction array(Element) {\n  return new Struct({\n    type: \"array\",\n    schema: Element,\n    *entries(value) {\n      if (Element && Array.isArray(value)) {\n        for (const [index, arrayValue] of value.entries()) {\n          yield [index, arrayValue, Element];\n        }\n      }\n    },\n    coercer(value) {\n      return Array.isArray(value) ? value.slice() : value;\n    },\n    validator(value) {\n      return Array.isArray(value) || `Expected an array value, but received: ${print(value)}`;\n    }\n  });\n}\nfunction integer() {\n  return define(\"integer\", (value) => {\n    return typeof value === \"number\" && !isNaN(value) && Number.isInteger(value) || `Expected an integer, but received: ${print(value)}`;\n  });\n}\nfunction literal(constant) {\n  const description = print(constant);\n  const valueType = typeof constant;\n  return new Struct({\n    type: \"literal\",\n    schema: valueType === \"string\" || valueType === \"number\" || valueType === \"boolean\" ? constant : null,\n    validator(value) {\n      return value === constant || `Expected the literal \\`${description}\\`, but received: ${print(value)}`;\n    }\n  });\n}\nfunction never() {\n  return define(\"never\", () => false);\n}\nfunction nullable(struct) {\n  return new Struct({\n    ...struct,\n    validator: (value, ctx) => value === null || struct.validator(value, ctx),\n    refiner: (value, ctx) => value === null || struct.refiner(value, ctx)\n  });\n}\nfunction number() {\n  return define(\"number\", (value) => {\n    return typeof value === \"number\" && !isNaN(value) || `Expected a number, but received: ${print(value)}`;\n  });\n}\nfunction object(schema) {\n  const knowns = schema ? Object.keys(schema) : [];\n  const Never = never();\n  return new Struct({\n    type: \"object\",\n    schema: schema ?? null,\n    *entries(value) {\n      if (schema && isObject(value)) {\n        const unknowns = new Set(Object.keys(value));\n        for (const key of knowns) {\n          unknowns.delete(key);\n          const propertySchema = schema[key];\n          if (ExactOptionalStruct.isExactOptional(propertySchema) && !Object.prototype.hasOwnProperty.call(value, key)) {\n            continue;\n          }\n          yield [key, value[key], schema[key]];\n        }\n        for (const key of unknowns) {\n          yield [key, value[key], Never];\n        }\n      }\n    },\n    validator(value) {\n      return isObject(value) || `Expected an object, but received: ${print(value)}`;\n    },\n    coercer(value) {\n      return isObject(value) ? { ...value } : value;\n    }\n  });\n}\nfunction optional(struct) {\n  return new Struct({\n    ...struct,\n    validator: (value, ctx) => value === undefined || struct.validator(value, ctx),\n    refiner: (value, ctx) => value === undefined || struct.refiner(value, ctx)\n  });\n}\nfunction record(Key, Value) {\n  return new Struct({\n    type: \"record\",\n    schema: null,\n    *entries(value) {\n      if (isObject(value)) {\n        for (const objectKey in value) {\n          const objectValue = value[objectKey];\n          yield [objectKey, objectKey, Key];\n          yield [objectKey, objectValue, Value];\n        }\n      }\n    },\n    validator(value) {\n      return isObject(value) || `Expected an object, but received: ${print(value)}`;\n    }\n  });\n}\nfunction string() {\n  return define(\"string\", (value) => {\n    return typeof value === \"string\" || `Expected a string, but received: ${print(value)}`;\n  });\n}\nfunction union(Structs) {\n  const description = Structs.map((struct) => struct.type).join(\" | \");\n  return new Struct({\n    type: \"union\",\n    schema: null,\n    coercer(value) {\n      for (const InnerStruct of Structs) {\n        const [error, coerced] = InnerStruct.validate(value, { coerce: true });\n        if (!error) {\n          return coerced;\n        }\n      }\n      return value;\n    },\n    validator(value, ctx) {\n      const failures = [];\n      for (const InnerStruct of Structs) {\n        const [...tuples] = run(value, InnerStruct, ctx);\n        const [first] = tuples;\n        if (!first?.[0]) {\n          return [];\n        }\n        for (const [failure] of tuples) {\n          if (failure) {\n            failures.push(failure);\n          }\n        }\n      }\n      return [\n        `Expected the value to satisfy a union of \\`${description}\\`, but received: ${print(value)}`,\n        ...failures\n      ];\n    }\n  });\n}\nfunction unknown() {\n  return define(\"unknown\", () => true);\n}\n\n// node_modules/@metamask/superstruct/dist/structs/coercions.mjs\nfunction coerce(struct, condition, coercer) {\n  return new Struct({\n    ...struct,\n    coercer: (value, ctx) => {\n      return is(value, condition) ? struct.coercer(coercer(value, ctx), ctx) : struct.coercer(value, ctx);\n    }\n  });\n}\n\n// node_modules/@metamask/superstruct/dist/structs/refinements.mjs\nfunction refine(struct, name, refiner) {\n  return new Struct({\n    ...struct,\n    *refiner(value, ctx) {\n      yield* struct.refiner(value, ctx);\n      const result = refiner(value, ctx);\n      const failures = toFailures(result, ctx, struct, value);\n      for (const failure of failures) {\n        yield { ...failure, refinement: name };\n      }\n    }\n  });\n}\n\n// node_modules/@metamask/utils/dist/misc.mjs\nfunction isObject2(value) {\n  return Boolean(value) && typeof value === \"object\" && !Array.isArray(value);\n}\nvar hasProperty = (objectToCheck, name) => Object.hasOwnProperty.call(objectToCheck, name);\nvar JsonSize;\n(function(JsonSize2) {\n  JsonSize2[JsonSize2[\"Null\"] = 4] = \"Null\";\n  JsonSize2[JsonSize2[\"Comma\"] = 1] = \"Comma\";\n  JsonSize2[JsonSize2[\"Wrapper\"] = 1] = \"Wrapper\";\n  JsonSize2[JsonSize2[\"True\"] = 4] = \"True\";\n  JsonSize2[JsonSize2[\"False\"] = 5] = \"False\";\n  JsonSize2[JsonSize2[\"Quote\"] = 1] = \"Quote\";\n  JsonSize2[JsonSize2[\"Colon\"] = 1] = \"Colon\";\n  JsonSize2[JsonSize2[\"Date\"] = 24] = \"Date\";\n})(JsonSize = JsonSize || (JsonSize = {}));\nfunction isPlainObject(value) {\n  if (typeof value !== \"object\" || value === null) {\n    return false;\n  }\n  try {\n    let proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n      proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n  } catch (_) {\n    return false;\n  }\n}\n\n// node_modules/@metamask/utils/dist/json.mjs\nvar object2 = (schema) => object(schema);\nfunction hasOptional({ path, branch }) {\n  const field = path[path.length - 1];\n  return hasProperty(branch[branch.length - 2], field);\n}\nfunction exactOptional(struct) {\n  return new Struct({\n    ...struct,\n    type: `optional ${struct.type}`,\n    validator: (value, context) => !hasOptional(context) || struct.validator(value, context),\n    refiner: (value, context) => !hasOptional(context) || struct.refiner(value, context)\n  });\n}\nfunction validateJson(json) {\n  if (json === null || typeof json === \"boolean\" || typeof json === \"string\") {\n    return true;\n  }\n  if (typeof json === \"number\" && Number.isFinite(json)) {\n    return true;\n  }\n  if (typeof json === \"object\") {\n    let every = true;\n    if (Array.isArray(json)) {\n      for (let i = 0;i < json.length; i++) {\n        if (!validateJson(json[i])) {\n          every = false;\n          break;\n        }\n      }\n      return every;\n    }\n    const entries = Object.entries(json);\n    for (let i = 0;i < entries.length; i++) {\n      if (typeof entries[i][0] !== \"string\" || !validateJson(entries[i][1])) {\n        every = false;\n        break;\n      }\n    }\n    return every;\n  }\n  return false;\n}\nvar UnsafeJsonStruct = define(\"JSON\", (json) => validateJson(json));\nvar JsonStruct = coerce(UnsafeJsonStruct, refine(any(), \"JSON\", (value) => is(value, UnsafeJsonStruct)), (value) => JSON.parse(JSON.stringify(value, (propKey, propValue) => {\n  if (propKey === \"__proto__\" || propKey === \"constructor\") {\n    return;\n  }\n  return propValue;\n})));\nfunction isValidJson(value) {\n  try {\n    getSafeJson(value);\n    return true;\n  } catch {\n    return false;\n  }\n}\nfunction getSafeJson(value) {\n  return create(value, JsonStruct);\n}\nvar jsonrpc2 = \"2.0\";\nvar JsonRpcVersionStruct = literal(jsonrpc2);\nvar JsonRpcIdStruct = nullable(union([number(), string()]));\nvar JsonRpcErrorStruct = object2({\n  code: integer(),\n  message: string(),\n  data: exactOptional(JsonStruct),\n  stack: exactOptional(string())\n});\nvar JsonRpcParamsStruct = union([record(string(), JsonStruct), array(JsonStruct)]);\nvar JsonRpcRequestStruct = object2({\n  id: JsonRpcIdStruct,\n  jsonrpc: JsonRpcVersionStruct,\n  method: string(),\n  params: exactOptional(JsonRpcParamsStruct)\n});\nvar JsonRpcNotificationStruct = object2({\n  jsonrpc: JsonRpcVersionStruct,\n  method: string(),\n  params: exactOptional(JsonRpcParamsStruct)\n});\nvar PendingJsonRpcResponseStruct = object({\n  id: JsonRpcIdStruct,\n  jsonrpc: JsonRpcVersionStruct,\n  result: optional(unknown()),\n  error: optional(JsonRpcErrorStruct)\n});\nvar JsonRpcSuccessStruct = object2({\n  id: JsonRpcIdStruct,\n  jsonrpc: JsonRpcVersionStruct,\n  result: JsonStruct\n});\nvar JsonRpcFailureStruct = object2({\n  id: JsonRpcIdStruct,\n  jsonrpc: JsonRpcVersionStruct,\n  error: JsonRpcErrorStruct\n});\nvar JsonRpcResponseStruct = union([\n  JsonRpcSuccessStruct,\n  JsonRpcFailureStruct\n]);\nfunction isJsonRpcError(value) {\n  return is(value, JsonRpcErrorStruct);\n}\n\n// node_modules/@metamask/rpc-errors/dist/classes.mjs\nvar import_fast_safe_stringify = __toESM(require_fast_safe_stringify(), 1);\n\n// node_modules/@metamask/rpc-errors/dist/error-constants.mjs\nvar errorCodes = {\n  rpc: {\n    invalidInput: -32000,\n    resourceNotFound: -32001,\n    resourceUnavailable: -32002,\n    transactionRejected: -32003,\n    methodNotSupported: -32004,\n    limitExceeded: -32005,\n    parse: -32700,\n    invalidRequest: -32600,\n    methodNotFound: -32601,\n    invalidParams: -32602,\n    internal: -32603\n  },\n  provider: {\n    userRejectedRequest: 4001,\n    unauthorized: 4100,\n    unsupportedMethod: 4200,\n    disconnected: 4900,\n    chainDisconnected: 4901\n  }\n};\nvar errorValues = {\n  \"-32700\": {\n    standard: \"JSON RPC 2.0\",\n    message: \"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"\n  },\n  \"-32600\": {\n    standard: \"JSON RPC 2.0\",\n    message: \"The JSON sent is not a valid Request object.\"\n  },\n  \"-32601\": {\n    standard: \"JSON RPC 2.0\",\n    message: \"The method does not exist / is not available.\"\n  },\n  \"-32602\": {\n    standard: \"JSON RPC 2.0\",\n    message: \"Invalid method parameter(s).\"\n  },\n  \"-32603\": {\n    standard: \"JSON RPC 2.0\",\n    message: \"Internal JSON-RPC error.\"\n  },\n  \"-32000\": {\n    standard: \"EIP-1474\",\n    message: \"Invalid input.\"\n  },\n  \"-32001\": {\n    standard: \"EIP-1474\",\n    message: \"Resource not found.\"\n  },\n  \"-32002\": {\n    standard: \"EIP-1474\",\n    message: \"Resource unavailable.\"\n  },\n  \"-32003\": {\n    standard: \"EIP-1474\",\n    message: \"Transaction rejected.\"\n  },\n  \"-32004\": {\n    standard: \"EIP-1474\",\n    message: \"Method not supported.\"\n  },\n  \"-32005\": {\n    standard: \"EIP-1474\",\n    message: \"Request limit exceeded.\"\n  },\n  \"4001\": {\n    standard: \"EIP-1193\",\n    message: \"User rejected the request.\"\n  },\n  \"4100\": {\n    standard: \"EIP-1193\",\n    message: \"The requested account and/or method has not been authorized by the user.\"\n  },\n  \"4200\": {\n    standard: \"EIP-1193\",\n    message: \"The requested method is not supported by this Ethereum provider.\"\n  },\n  \"4900\": {\n    standard: \"EIP-1193\",\n    message: \"The provider is disconnected from all chains.\"\n  },\n  \"4901\": {\n    standard: \"EIP-1193\",\n    message: \"The provider is disconnected from the specified chain.\"\n  }\n};\n\n// node_modules/@metamask/rpc-errors/dist/utils.mjs\nvar FALLBACK_ERROR_CODE = errorCodes.rpc.internal;\nvar FALLBACK_MESSAGE = \"Unspecified error message. This is a bug, please report it.\";\nvar FALLBACK_ERROR = {\n  code: FALLBACK_ERROR_CODE,\n  message: getMessageFromCode(FALLBACK_ERROR_CODE)\n};\nvar JSON_RPC_SERVER_ERROR_MESSAGE = \"Unspecified server error.\";\nfunction getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {\n  if (isValidCode(code)) {\n    const codeString = code.toString();\n    if (hasProperty(errorValues, codeString)) {\n      return errorValues[codeString].message;\n    }\n    if (isJsonRpcServerError(code)) {\n      return JSON_RPC_SERVER_ERROR_MESSAGE;\n    }\n  }\n  return fallbackMessage;\n}\nfunction isValidCode(code) {\n  return Number.isInteger(code);\n}\nfunction serializeError(error, { fallbackError = FALLBACK_ERROR, shouldIncludeStack = true, shouldPreserveMessage = true } = {}) {\n  if (!isJsonRpcError(fallbackError)) {\n    throw new Error(\"Must provide fallback error with integer number code and string message.\");\n  }\n  const serialized = buildError(error, fallbackError, shouldPreserveMessage);\n  if (!shouldIncludeStack) {\n    delete serialized.stack;\n  }\n  return serialized;\n}\nfunction buildError(error, fallbackError, shouldPreserveMessage) {\n  if (error && typeof error === \"object\" && \"serialize\" in error && typeof error.serialize === \"function\") {\n    return error.serialize();\n  }\n  if (isJsonRpcError(error)) {\n    return error;\n  }\n  const originalMessage = getOriginalMessage(error);\n  const cause = serializeCause(error);\n  const fallbackWithCause = {\n    ...fallbackError,\n    ...shouldPreserveMessage && originalMessage && { message: originalMessage },\n    data: { cause }\n  };\n  return fallbackWithCause;\n}\nfunction getOriginalMessage(error) {\n  if (isObject2(error) && hasProperty(error, \"message\") && typeof error.message === \"string\" && error.message.length > 0) {\n    return error.message;\n  }\n  return;\n}\nfunction isJsonRpcServerError(code) {\n  return code >= -32099 && code <= -32000;\n}\nfunction serializeCause(error) {\n  if (Array.isArray(error)) {\n    return error.map((entry) => {\n      if (isValidJson(entry)) {\n        return entry;\n      } else if (isObject2(entry)) {\n        return serializeObject(entry);\n      }\n      return null;\n    });\n  } else if (isObject2(error)) {\n    return serializeObject(error);\n  }\n  if (isValidJson(error)) {\n    return error;\n  }\n  return null;\n}\nfunction serializeObject(object3) {\n  return Object.getOwnPropertyNames(object3).reduce((acc, key) => {\n    const value = object3[key];\n    if (isValidJson(value)) {\n      acc[key] = value;\n    }\n    return acc;\n  }, {});\n}\nfunction dataHasCause(data) {\n  return isObject2(data) && hasProperty(data, \"cause\") && isObject2(data.cause);\n}\n\n// node_modules/@metamask/rpc-errors/dist/classes.mjs\nfunction $importDefault(module) {\n  if (module?.__esModule) {\n    return module.default;\n  }\n  return module;\n}\nvar safeStringify = $importDefault(import_fast_safe_stringify.default);\n\nclass JsonRpcError extends Error {\n  constructor(code, message, data) {\n    if (!Number.isInteger(code)) {\n      throw new Error('\"code\" must be an integer.');\n    }\n    if (!message || typeof message !== \"string\") {\n      throw new Error('\"message\" must be a non-empty string.');\n    }\n    if (dataHasCause(data)) {\n      super(message, { cause: data.cause });\n      if (!hasProperty(this, \"cause\")) {\n        Object.assign(this, { cause: data.cause });\n      }\n    } else {\n      super(message);\n    }\n    if (data !== undefined) {\n      this.data = data;\n    }\n    this.code = code;\n  }\n  serialize() {\n    const serialized = {\n      code: this.code,\n      message: this.message\n    };\n    if (this.data !== undefined) {\n      serialized.data = this.data;\n      if (isPlainObject(this.data)) {\n        serialized.data.cause = serializeCause(this.data.cause);\n      }\n    }\n    if (this.stack) {\n      serialized.stack = this.stack;\n    }\n    return serialized;\n  }\n  toString() {\n    return safeStringify(this.serialize(), stringifyReplacer, 2);\n  }\n}\n\nclass EthereumProviderError extends JsonRpcError {\n  constructor(code, message, data) {\n    if (!isValidEthProviderCode(code)) {\n      throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');\n    }\n    super(code, message, data);\n  }\n}\nfunction isValidEthProviderCode(code) {\n  return Number.isInteger(code) && code >= 1000 && code <= 4999;\n}\nfunction stringifyReplacer(_, value) {\n  if (value === \"[Circular]\") {\n    return;\n  }\n  return value;\n}\n// node_modules/@metamask/rpc-errors/dist/errors.mjs\nvar rpcErrors = {\n  parse: (arg) => getJsonRpcError(errorCodes.rpc.parse, arg),\n  invalidRequest: (arg) => getJsonRpcError(errorCodes.rpc.invalidRequest, arg),\n  invalidParams: (arg) => getJsonRpcError(errorCodes.rpc.invalidParams, arg),\n  methodNotFound: (arg) => getJsonRpcError(errorCodes.rpc.methodNotFound, arg),\n  internal: (arg) => getJsonRpcError(errorCodes.rpc.internal, arg),\n  server: (opts) => {\n    if (!opts || typeof opts !== \"object\" || Array.isArray(opts)) {\n      throw new Error(\"Ethereum RPC Server errors must provide single object argument.\");\n    }\n    const { code } = opts;\n    if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n      throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');\n    }\n    return getJsonRpcError(code, opts);\n  },\n  invalidInput: (arg) => getJsonRpcError(errorCodes.rpc.invalidInput, arg),\n  resourceNotFound: (arg) => getJsonRpcError(errorCodes.rpc.resourceNotFound, arg),\n  resourceUnavailable: (arg) => getJsonRpcError(errorCodes.rpc.resourceUnavailable, arg),\n  transactionRejected: (arg) => getJsonRpcError(errorCodes.rpc.transactionRejected, arg),\n  methodNotSupported: (arg) => getJsonRpcError(errorCodes.rpc.methodNotSupported, arg),\n  limitExceeded: (arg) => getJsonRpcError(errorCodes.rpc.limitExceeded, arg)\n};\nvar providerErrors = {\n  userRejectedRequest: (arg) => {\n    return getEthProviderError(errorCodes.provider.userRejectedRequest, arg);\n  },\n  unauthorized: (arg) => {\n    return getEthProviderError(errorCodes.provider.unauthorized, arg);\n  },\n  unsupportedMethod: (arg) => {\n    return getEthProviderError(errorCodes.provider.unsupportedMethod, arg);\n  },\n  disconnected: (arg) => {\n    return getEthProviderError(errorCodes.provider.disconnected, arg);\n  },\n  chainDisconnected: (arg) => {\n    return getEthProviderError(errorCodes.provider.chainDisconnected, arg);\n  },\n  custom: (opts) => {\n    if (!opts || typeof opts !== \"object\" || Array.isArray(opts)) {\n      throw new Error(\"Ethereum Provider custom errors must provide single object argument.\");\n    }\n    const { code, message, data } = opts;\n    if (!message || typeof message !== \"string\") {\n      throw new Error('\"message\" must be a nonempty string');\n    }\n    return new EthereumProviderError(code, message, data);\n  }\n};\nfunction getJsonRpcError(code, arg) {\n  const [message, data] = parseOpts(arg);\n  return new JsonRpcError(code, message ?? getMessageFromCode(code), data);\n}\nfunction getEthProviderError(code, arg) {\n  const [message, data] = parseOpts(arg);\n  return new EthereumProviderError(code, message ?? getMessageFromCode(code), data);\n}\nfunction parseOpts(arg) {\n  if (arg) {\n    if (typeof arg === \"string\") {\n      return [arg];\n    } else if (typeof arg === \"object\" && !Array.isArray(arg)) {\n      const { message, data } = arg;\n      if (message && typeof message !== \"string\") {\n        throw new Error(\"Must specify string message.\");\n      }\n      return [message ?? undefined, data];\n    }\n  }\n  return [];\n}\n// node_modules/eventemitter3/index.mjs\nvar import__ = __toESM(require_eventemitter3(), 1);\n\n// src/types.ts\nvar GeminiSdkEvent;\n((GeminiSdkEvent2) => {\n  GeminiSdkEvent2[\"POPUP_LOADED\"] = \"POPUP_LOADED\";\n  GeminiSdkEvent2[\"POPUP_UNLOADED\"] = \"POPUP_UNLOADED\";\n  GeminiSdkEvent2[\"POPUP_APP_CONTEXT\"] = \"POPUP_APP_CONTEXT\";\n  GeminiSdkEvent2[\"SDK_CONNECT\"] = \"SDK_CONNECT\";\n  GeminiSdkEvent2[\"SDK_DISCONNECT\"] = \"SDK_DISCONNECT\";\n  GeminiSdkEvent2[\"SDK_SEND_TRANSACTION\"] = \"SDK_SEND_TRANSACTION\";\n  GeminiSdkEvent2[\"SDK_SIGN_DATA\"] = \"SDK_SIGN_DATA\";\n  GeminiSdkEvent2[\"SDK_SIGN_TYPED_DATA\"] = \"SDK_SIGN_TYPED_DATA\";\n  GeminiSdkEvent2[\"SDK_SWITCH_CHAIN\"] = \"SDK_SWITCH_CHAIN\";\n  GeminiSdkEvent2[\"SDK_OPEN_SETTINGS\"] = \"SDK_OPEN_SETTINGS\";\n})(GeminiSdkEvent ||= {});\nclass ProviderEventEmitter extends import__.default {\n}\n\n// src/utils/base64.ts\nfunction encodeBase64(array2) {\n  let base64;\n  if (typeof Buffer !== \"undefined\") {\n    base64 = Buffer.from(array2).toString(\"base64\");\n  } else {\n    base64 = btoa(Array.from(array2).map((b) => String.fromCharCode(b)).join(\"\"));\n  }\n  return base64.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n}\nfunction decodeBase64(base64url) {\n  let base64 = base64url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  while (base64.length % 4 !== 0) {\n    base64 += \"=\";\n  }\n  if (typeof Buffer !== \"undefined\") {\n    return new Uint8Array(Buffer.from(base64, \"base64\"));\n  }\n  const binaryString = atob(base64);\n  const bytes = new Uint8Array(binaryString.length);\n  for (let i = 0;i < binaryString.length; i++) {\n    bytes[i] = binaryString.charCodeAt(i);\n  }\n  return bytes;\n}\nfunction bufferToBase64URLString(buffer) {\n  const bytes = buffer instanceof Uint8Array ? buffer : new Uint8Array(buffer);\n  return encodeBase64(bytes);\n}\nfunction utf8StringToBuffer(value) {\n  if (typeof TextEncoder !== \"undefined\") {\n    return new TextEncoder().encode(value);\n  }\n  if (typeof Buffer !== \"undefined\") {\n    return new Uint8Array(Buffer.from(value, \"utf8\"));\n  }\n  const bytes = new Uint8Array(value.length);\n  for (let i = 0;i < value.length; i++) {\n    bytes[i] = value.charCodeAt(i);\n  }\n  return bytes;\n}\nfunction base64ToHex(base64) {\n  const bytes = decodeBase64(base64);\n  return Array.from(bytes).map((b) => b.toString(16).padStart(2, \"0\")).join(\"\");\n}\n// src/constants.ts\nvar SDK_BACKEND_URL = \"https://keys.gemini.com\";\nvar SDK_VERSION = \"0.1.0\";\nvar DEFAULT_CHAIN_ID = 42161;\nvar MAINNET_CHAIN_IDS = {\n  ETHEREUM: 1,\n  ARBITRUM_ONE: 42161,\n  OP_MAINNET: 10,\n  BASE: 8453,\n  POLYGON: 137\n};\nvar TESTNET_CHAIN_IDS = {\n  SEPOLIA: 11155111,\n  ARBITRUM_SEPOLIA: 421614,\n  OP_SEPOLIA: 11155420,\n  BASE_SEPOLIA: 84532,\n  POLYGON_AMOY: 80002\n};\nvar SUPPORTED_CHAIN_IDS = [\n  ...Object.values(MAINNET_CHAIN_IDS),\n  ...Object.values(TESTNET_CHAIN_IDS)\n];\nvar POPUP_WIDTH = 420;\nvar POPUP_HEIGHT = 650;\n\n// src/utils/popup.ts\nvar openPopup = (url) => {\n  const left = (window.innerWidth - POPUP_WIDTH) / 2 + window.screenX;\n  const top = (window.innerHeight - POPUP_HEIGHT) / 2 + window.screenY;\n  const popupId = `gemini_wallet_${crypto.randomUUID()}`;\n  const popup = window.open(url, popupId, `width=${POPUP_WIDTH}, height=${POPUP_HEIGHT}, left=${left}, top=${top}`);\n  popup?.focus();\n  if (!popup) {\n    throw rpcErrors.internal(\"Pop up window failed to open\");\n  }\n  return popup;\n};\nvar closePopup = (popup) => {\n  if (popup && !popup.closed) {\n    popup.close();\n  }\n};\n// src/utils/strings.ts\nvar hexStringFromNumber = (num) => `0x${BigInt(num).toString(16)}`;\nvar safeJsonStringify = (obj) => JSON.stringify(obj, (_, value) => typeof value === \"bigint\" ? value.toString() + \"n\" : value, 2);\n\n// src/utils/index.ts\nvar generateRequestId = () => crypto.randomUUID();\n\n// src/communicator.ts\nclass Communicator {\n  appMetadata;\n  url;\n  popup = null;\n  listeners = new Map;\n  onDisconnectCallback;\n  constructor({ appMetadata, onDisconnectCallback }) {\n    this.url = new URL(SDK_BACKEND_URL);\n    this.appMetadata = appMetadata;\n    this.onDisconnectCallback = onDisconnectCallback;\n  }\n  async postMessage(message) {\n    const popup = await this.waitForPopupLoaded();\n    popup.postMessage(message, this.url.origin);\n  }\n  async postRequestAndWaitForResponse(request) {\n    const responsePromise = this.onMessage(({ requestId }) => requestId === request.requestId);\n    await this.postMessage(request);\n    return responsePromise;\n  }\n  async onMessage(predicate) {\n    return new Promise((resolve, reject) => {\n      const listener = (event) => {\n        if (event.origin !== this.url.origin)\n          return;\n        const message = event.data;\n        if (predicate(message)) {\n          resolve(message);\n          window.removeEventListener(\"message\", listener);\n          this.listeners.delete(listener);\n        }\n      };\n      window.addEventListener(\"message\", listener);\n      this.listeners.set(listener, { reject });\n    });\n  }\n  onRequestCancelled() {\n    closePopup(this.popup ?? undefined);\n    this.popup = null;\n    this.listeners.forEach(({ reject }, listener) => {\n      reject(providerErrors.userRejectedRequest());\n      window.removeEventListener(\"message\", listener);\n    });\n    this.listeners.clear();\n  }\n  async waitForPopupLoaded() {\n    if (this.popup && !this.popup.closed) {\n      this.popup.focus();\n      return this.popup;\n    }\n    this.popup = openPopup(this.url);\n    this.onMessage(({ event }) => event === \"POPUP_UNLOADED\" /* POPUP_UNLOADED */).then(() => this.onRequestCancelled()).catch(() => {});\n    this.onMessage(({ event }) => event === \"SDK_DISCONNECT\" /* SDK_DISCONNECT */).then(() => {\n      this.onDisconnectCallback?.();\n      this.onRequestCancelled();\n    }).catch(() => {});\n    return this.onMessage(({ event }) => event === \"POPUP_LOADED\" /* POPUP_LOADED */).then((message) => {\n      this.postMessage({\n        chainId: DEFAULT_CHAIN_ID,\n        data: {\n          appMetadata: this.appMetadata,\n          origin: window.location.origin,\n          sdkVersion: SDK_VERSION\n        },\n        event: \"POPUP_APP_CONTEXT\" /* POPUP_APP_CONTEXT */,\n        origin: window.location.origin,\n        requestId: message.requestId\n      });\n      return message;\n    }).then(() => {\n      if (!this.popup)\n        throw rpcErrors.internal();\n      return this.popup;\n    });\n  }\n}\n// src/storage/storageInterface.ts\nvar STORAGE_ETH_ACCOUNTS_KEY = \"eth-accounts\";\nvar STORAGE_ETH_ACTIVE_CHAIN_KEY = \"eth-active-chain\";\nvar STORAGE_PASSKEY_CREDENTIAL_KEY = \"passkey-credential\";\nvar STORAGE_SMART_ACCOUNT_KEY = \"smart-account\";\nvar STORAGE_SETTINGS_KEY = \"settings\";\n\n// src/storage/storage.ts\nvar memoryStorage = {};\nclass GeminiStorage {\n  scope = \"@gemini\";\n  module = \"wallet\";\n  scopedKey(key) {\n    return `${this.scope}.${this.module}.${key}`;\n  }\n  async storeObject(key, item) {\n    const json = safeJsonStringify(item);\n    await this.setItem(key, json);\n  }\n  async loadObject(key, fallback) {\n    const item = await this.getItem(key);\n    if (!item) {\n      await this.storeObject(key, fallback);\n      return fallback;\n    }\n    try {\n      return JSON.parse(item);\n    } catch (error) {\n      console.error(`Error parsing JSON for key ${key}:`, error);\n      return fallback;\n    }\n  }\n  setItem(key, value) {\n    const scoped = this.scopedKey(key);\n    try {\n      localStorage.setItem(scoped, value);\n    } catch {\n      memoryStorage[scoped] = value;\n    }\n    return Promise.resolve();\n  }\n  getItem(key) {\n    const scoped = this.scopedKey(key);\n    try {\n      return Promise.resolve(localStorage.getItem(scoped) ?? undefined);\n    } catch {\n      return Promise.resolve(memoryStorage[scoped] || undefined);\n    }\n  }\n  removeItem(key) {\n    const scoped = this.scopedKey(key);\n    try {\n      localStorage.removeItem(scoped);\n    } catch {\n      delete memoryStorage[scoped];\n    }\n    return Promise.resolve();\n  }\n}\n// src/wallets/wallet.ts\nfunction isChainSupportedByGeminiSw(chainId) {\n  return SUPPORTED_CHAIN_IDS.includes(chainId);\n}\n\nclass GeminiWallet {\n  communicator;\n  storage;\n  initPromise;\n  accounts = [];\n  chain = { id: DEFAULT_CHAIN_ID };\n  constructor({\n    appMetadata,\n    chain,\n    onDisconnectCallback,\n    storage\n  }) {\n    this.communicator = new Communicator({\n      appMetadata,\n      onDisconnectCallback\n    });\n    this.storage = storage || new GeminiStorage;\n    this.initPromise = this.initializeFromStorage(chain?.id ?? this.chain.id);\n  }\n  async initializeFromStorage(defaultChainId) {\n    const [storedChain, storedAccounts] = await Promise.all([\n      this.storage.loadObject(STORAGE_ETH_ACTIVE_CHAIN_KEY, {\n        id: defaultChainId\n      }),\n      this.storage.loadObject(STORAGE_ETH_ACCOUNTS_KEY, this.accounts)\n    ]);\n    this.chain = storedChain;\n    this.accounts = storedAccounts;\n  }\n  async ensureInitialized() {\n    await this.initPromise;\n  }\n  async connect() {\n    await this.ensureInitialized();\n    const response = await this.sendMessageToPopup({\n      chainId: this.chain.id,\n      event: \"SDK_CONNECT\" /* SDK_CONNECT */,\n      origin: window.location.origin\n    });\n    this.accounts = [response.data.address];\n    await this.storage.storeObject(STORAGE_ETH_ACCOUNTS_KEY, this.accounts);\n    return this.accounts;\n  }\n  async switchChain({\n    id\n  }) {\n    await this.ensureInitialized();\n    if (isChainSupportedByGeminiSw(id)) {\n      this.chain = { id };\n      await this.storage.storeObject(STORAGE_ETH_ACTIVE_CHAIN_KEY, { id });\n      return;\n    }\n    const response = await this.sendMessageToPopup({\n      chainId: this.chain.id,\n      data: id,\n      event: \"SDK_SWITCH_CHAIN\" /* SDK_SWITCH_CHAIN */,\n      origin: window.location.origin\n    });\n    return response.data.error;\n  }\n  async sendTransaction(txData) {\n    await this.ensureInitialized();\n    const response = await this.sendMessageToPopup({\n      chainId: this.chain.id,\n      data: txData,\n      event: \"SDK_SEND_TRANSACTION\" /* SDK_SEND_TRANSACTION */,\n      origin: window.location.origin\n    });\n    return response.data;\n  }\n  async signData({\n    message\n  }) {\n    await this.ensureInitialized();\n    const response = await this.sendMessageToPopup({\n      chainId: this.chain.id,\n      data: { message },\n      event: \"SDK_SIGN_DATA\" /* SDK_SIGN_DATA */,\n      origin: window.location.origin\n    });\n    return response.data;\n  }\n  async signTypedData({\n    message,\n    types,\n    primaryType,\n    domain\n  }) {\n    await this.ensureInitialized();\n    const response = await this.sendMessageToPopup({\n      chainId: this.chain.id,\n      data: {\n        domain,\n        message,\n        primaryType,\n        types\n      },\n      event: \"SDK_SIGN_TYPED_DATA\" /* SDK_SIGN_TYPED_DATA */,\n      origin: window.location.origin\n    });\n    return response.data;\n  }\n  async openSettings() {\n    await this.ensureInitialized();\n    await this.sendMessageToPopup({\n      chainId: this.chain.id,\n      data: {},\n      event: \"SDK_OPEN_SETTINGS\" /* SDK_OPEN_SETTINGS */,\n      origin: window.location.origin\n    });\n  }\n  sendMessageToPopup(request) {\n    return this.communicator.postRequestAndWaitForResponse({\n      ...request,\n      requestId: window?.crypto?.randomUUID()\n    });\n  }\n}\n// src/provider/provider.utils.ts\nvar fetchRpcRequest = async (request, rpcUrl) => {\n  const requestBody = {\n    ...request,\n    id: window?.crypto?.randomUUID(),\n    jsonrpc: \"2.0\"\n  };\n  const res = await window.fetch(rpcUrl, {\n    body: JSON.stringify(requestBody),\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    method: \"POST\",\n    mode: \"cors\"\n  });\n  const { result, error } = await res.json();\n  if (error) {\n    throw error;\n  }\n  return result;\n};\nfunction validateRpcRequestArgs(args) {\n  if (!args || typeof args !== \"object\" || Array.isArray(args)) {\n    throw rpcErrors.invalidParams({\n      message: \"Expected a single, non-array, object argument.\"\n    });\n  }\n  const { method, params } = args;\n  if (typeof method !== \"string\" || method.length === 0) {\n    throw rpcErrors.invalidParams({\n      message: \"'args.method' must be a non-empty string.\"\n    });\n  }\n  if (params !== undefined && !Array.isArray(params) && (typeof params !== \"object\" || params === null)) {\n    throw rpcErrors.invalidParams({\n      message: \"'args.params' must be an object or array if provided.\"\n    });\n  }\n}\nfunction convertSendValuesToBigInt(tx) {\n  const FIELDS_TO_NORMALIZE = [\"value\", \"gas\", \"gasPrice\", \"maxPriorityFeePerGas\", \"maxFeePerGas\"];\n  const normalized = { ...tx };\n  for (const field of FIELDS_TO_NORMALIZE) {\n    if (!(field in tx)) {\n      continue;\n    }\n    const value = tx[field];\n    if (typeof value === \"bigint\") {\n      continue;\n    }\n    if (isHex(value)) {\n      normalized[field] = BigInt(value);\n    }\n  }\n  return normalized;\n}\n\n// src/provider/provider.ts\nclass GeminiWalletProvider extends ProviderEventEmitter {\n  config;\n  wallet = undefined;\n  constructor(providerConfig) {\n    super();\n    this.config = providerConfig;\n    this.wallet = new GeminiWallet({\n      ...providerConfig,\n      onDisconnectCallback: this.disconnect.bind(this)\n    });\n  }\n  async request(args) {\n    try {\n      validateRpcRequestArgs(args);\n      if (!this.wallet?.accounts?.length) {\n        switch (args.method) {\n          case \"eth_requestAccounts\": {\n            this.wallet = new GeminiWallet({\n              ...this.config,\n              onDisconnectCallback: this.disconnect.bind(this)\n            });\n            await this.wallet.connect();\n            this.emit(\"accountsChanged\", this.wallet.accounts);\n            break;\n          }\n          case \"net_version\":\n            return DEFAULT_CHAIN_ID;\n          case \"eth_chainId\":\n            return hexStringFromNumber(DEFAULT_CHAIN_ID);\n          default: {\n            throw providerErrors.unauthorized();\n          }\n        }\n      }\n      let response;\n      let requestParams;\n      switch (args.method) {\n        case \"eth_requestAccounts\":\n        case \"eth_accounts\":\n          response = this.wallet.accounts;\n          break;\n        case \"net_version\":\n          response = this.wallet.chain.id;\n          break;\n        case \"eth_chainId\":\n          response = hexStringFromNumber(this.wallet.chain.id);\n          break;\n        case \"personal_sign\":\n        case \"wallet_sign\":\n          requestParams = args.params;\n          response = await this.wallet.signData({\n            account: requestParams[1],\n            message: requestParams[0]\n          });\n          if (response.error) {\n            throw rpcErrors.transactionRejected(response.error);\n          } else {\n            response = response.hash;\n          }\n          break;\n        case \"eth_sendTransaction\":\n        case \"wallet_sendTransaction\":\n          requestParams = args.params;\n          requestParams = convertSendValuesToBigInt(requestParams[0]);\n          response = await this.wallet.sendTransaction(requestParams);\n          if (response.error) {\n            throw rpcErrors.transactionRejected(response.error);\n          } else {\n            response = response.hash;\n          }\n          break;\n        case \"wallet_switchEthereumChain\": {\n          const rawParams = args.params;\n          let chainId;\n          if (Array.isArray(rawParams) && rawParams[0]?.chainId) {\n            chainId = parseInt(rawParams[0].chainId, 16);\n          } else if (rawParams && typeof rawParams === \"object\" && \"id\" in rawParams && Number.isInteger(rawParams.id)) {\n            chainId = rawParams.id;\n          } else {\n            throw rpcErrors.invalidParams(\"Invalid chain id argument. Expected [{ chainId: hex_string }] or { id: number }.\");\n          }\n          response = await this.wallet.switchChain({ id: chainId });\n          if (response) {\n            throw providerErrors.custom({ code: 4902, message: response });\n          }\n          await this.emit(\"chainChanged\", hexStringFromNumber(chainId));\n          break;\n        }\n        case \"eth_signTypedData_v1\":\n        case \"eth_signTypedData_v2\":\n        case \"eth_signTypedData_v3\":\n        case \"eth_signTypedData_v4\":\n        case \"eth_signTypedData\": {\n          requestParams = args.params;\n          const signedTypedDataParams = JSON.parse(requestParams[1]);\n          response = await this.wallet.signTypedData({\n            account: requestParams[0],\n            domain: signedTypedDataParams.domain,\n            message: signedTypedDataParams.message,\n            primaryType: signedTypedDataParams.primaryType,\n            types: signedTypedDataParams.types\n          });\n          if (response.error) {\n            throw rpcErrors.transactionRejected(response.error);\n          } else {\n            response = response.hash;\n          }\n          break;\n        }\n        case \"eth_ecRecover\":\n        case \"eth_subscribe\":\n        case \"eth_unsubscribe\":\n        case \"personal_ecRecover\":\n        case \"eth_signTransaction\":\n        case \"wallet_watchAsset\":\n        case \"wallet_sendCalls\":\n        case \"wallet_getCallsStatus\":\n        case \"wallet_getCapabilities\":\n        case \"wallet_showCallsStatus\":\n        case \"wallet_grantPermissions\":\n          throw rpcErrors.methodNotSupported(\"Not yet implemented.\");\n        case \"eth_sign\":\n        case \"eth_coinbase\":\n        case \"wallet_addEthereumChain\":\n          throw rpcErrors.methodNotSupported();\n        default:\n          if (!this.wallet.chain.rpcUrl) {\n            throw rpcErrors.internal(`RPC URL missing for current chain (${this.wallet.chain.id})`);\n          }\n          return fetchRpcRequest(args, this.wallet.chain.rpcUrl);\n      }\n      return response;\n    } catch (error) {\n      const { code } = error;\n      if (code === errorCodes.provider.unauthorized) {\n        this.disconnect();\n      }\n      return Promise.reject(serializeError(error));\n    }\n  }\n  async openSettings() {\n    await this.wallet?.openSettings();\n  }\n  async disconnect() {\n    this.wallet = undefined;\n    const Storage = new GeminiStorage;\n    await Storage.removeItem(STORAGE_ETH_ACCOUNTS_KEY);\n    await Storage.removeItem(STORAGE_ETH_ACTIVE_CHAIN_KEY);\n    await this.emit(\"disconnect\", \"User initiated disconnection\");\n  }\n}\nexport {\n  validateRpcRequestArgs,\n  utf8StringToBuffer,\n  safeJsonStringify,\n  openPopup,\n  hexStringFromNumber,\n  generateRequestId,\n  fetchRpcRequest,\n  encodeBase64,\n  decodeBase64,\n  convertSendValuesToBigInt,\n  closePopup,\n  bufferToBase64URLString,\n  base64ToHex,\n  STORAGE_SMART_ACCOUNT_KEY,\n  STORAGE_SETTINGS_KEY,\n  STORAGE_PASSKEY_CREDENTIAL_KEY,\n  STORAGE_ETH_ACTIVE_CHAIN_KEY,\n  STORAGE_ETH_ACCOUNTS_KEY,\n  SDK_VERSION,\n  SDK_BACKEND_URL,\n  ProviderEventEmitter,\n  POPUP_WIDTH,\n  POPUP_HEIGHT,\n  GeminiWalletProvider,\n  GeminiWallet,\n  GeminiStorage,\n  GeminiSdkEvent,\n  DEFAULT_CHAIN_ID,\n  Communicator\n};\n", "import type { AppMetadata, ProviderInterface } from '@gemini-wallet/core'\nimport { GeminiWalletProvider } from '@gemini-wallet/core'\nimport {\n  ChainNotConfiguredError,\n  type Connector,\n  createConnector,\n} from '@wagmi/core'\nimport type { Address } from 'viem'\nimport {\n  getAddress,\n  numberToHex,\n  SwitchChainError,\n  UserRejectedRequestError,\n} from 'viem'\n\nexport type GeminiParameters = {\n  appMetadata?: AppMetadata\n}\n\ngemini.type = 'gemini' as const\nexport function gemini(parameters: GeminiParameters = {}) {\n  type Provider = ProviderInterface\n  type Properties = {\n    connect(parameters?: {\n      chainId?: number | undefined\n      isReconnecting?: boolean | undefined\n    }): Promise<{\n      accounts: readonly Address[]\n      chainId: number\n    }>\n  }\n\n  let walletProvider: Provider | undefined\n  let onAccountsChanged: Connector['onAccountsChanged'] | undefined\n  let onChainChanged: Connector['onChainChanged'] | undefined\n  let onDisconnect: Connector['onDisconnect'] | undefined\n\n  return createConnector<Provider, Properties>((config) => ({\n    id: 'gemini',\n    name: 'Gemini Wallet',\n    type: gemini.type,\n    icon: 'https://keys.gemini.com/images/gemini-wallet-logo.svg',\n    async connect({ chainId } = {}) {\n      try {\n        const provider = await this.getProvider()\n        const accounts = (await provider.request({\n          method: 'eth_requestAccounts',\n        })) as string[]\n\n        if (!onAccountsChanged) {\n          onAccountsChanged = this.onAccountsChanged.bind(this)\n          provider.on('accountsChanged', onAccountsChanged)\n        }\n        if (!onChainChanged) {\n          onChainChanged = this.onChainChanged.bind(this)\n          provider.on('chainChanged', onChainChanged)\n        }\n        if (!onDisconnect) {\n          onDisconnect = this.onDisconnect.bind(this)\n          provider.on('disconnect', onDisconnect)\n        }\n\n        let currentChainId = await this.getChainId()\n        if (chainId && currentChainId !== chainId) {\n          const chain = await this.switchChain!({ chainId }).catch((error) => {\n            if (error.code === UserRejectedRequestError.code) throw error\n            return { id: currentChainId }\n          })\n          currentChainId = chain?.id ?? currentChainId\n        }\n\n        return {\n          accounts: accounts.map((x) => getAddress(x)),\n          chainId: currentChainId,\n        }\n      } catch (error) {\n        if (\n          /(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(\n            (error as Error).message,\n          )\n        )\n          throw new UserRejectedRequestError(error as Error)\n        throw error\n      }\n    },\n    async disconnect() {\n      const provider = await this.getProvider()\n\n      if (onAccountsChanged) {\n        provider.removeListener('accountsChanged', onAccountsChanged)\n        onAccountsChanged = undefined\n      }\n      if (onChainChanged) {\n        provider.removeListener('chainChanged', onChainChanged)\n        onChainChanged = undefined\n      }\n      if (onDisconnect) {\n        provider.removeListener('disconnect', onDisconnect)\n        onDisconnect = undefined\n      }\n\n      await provider.disconnect()\n    },\n    async getAccounts() {\n      const provider = await this.getProvider()\n      const accounts = (await provider.request({\n        method: 'eth_accounts',\n      })) as string[]\n      return accounts.map((x) => getAddress(x))\n    },\n    async getChainId() {\n      const provider = await this.getProvider()\n      const chainId = (await provider.request({\n        method: 'eth_chainId',\n      })) as string\n      return Number(chainId)\n    },\n    async getProvider() {\n      if (!walletProvider) {\n        walletProvider = new GeminiWalletProvider({\n          appMetadata: parameters.appMetadata ?? {},\n          chain: {\n            id: config.chains[0]?.id ?? 1,\n            rpcUrl: config.chains[0]?.rpcUrls?.default?.http[0],\n          },\n        })\n      }\n      return walletProvider\n    },\n    async isAuthorized() {\n      try {\n        const accounts = await this.getAccounts()\n        return Boolean(accounts.length)\n      } catch {\n        return false\n      }\n    },\n    async switchChain({ chainId }) {\n      const chain = config.chains.find((chain) => chain.id === chainId)\n      if (!chain) throw new SwitchChainError(new ChainNotConfiguredError())\n\n      const provider = await this.getProvider()\n\n      try {\n        await provider.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{ chainId: numberToHex(chainId) }],\n        })\n        return chain\n      } catch (error) {\n        throw new SwitchChainError(error as Error)\n      }\n    },\n    onAccountsChanged(accounts) {\n      if (accounts.length === 0) this.onDisconnect()\n      else\n        config.emitter.emit('change', {\n          accounts: accounts.map((x: string) => getAddress(x)),\n        })\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect() {\n      config.emitter.emit('disconnect')\n\n      const provider = await this.getProvider()\n      if (onAccountsChanged) {\n        provider.removeListener('accountsChanged', onAccountsChanged)\n        onAccountsChanged = undefined\n      }\n      if (onChainChanged) {\n        provider.removeListener('chainChanged', onChainChanged)\n        onChainChanged = undefined\n      }\n      if (onDisconnect) {\n        provider.removeListener('disconnect', onDisconnect)\n        onDisconnect = undefined\n      }\n    },\n  }))\n}\n", "import type {\n  MetaMaskSDK,\n  MetaMaskSDKOptions,\n  RPC_URLS_MAP,\n  SDKProvider,\n} from '@metamask/sdk'\nimport {\n  ChainNotConfiguredError,\n  type Connector,\n  createConnector,\n  extractRpcUrls,\n  ProviderNotFoundError,\n} from '@wagmi/core'\nimport type {\n  Compute,\n  ExactPartial,\n  OneOf,\n  RemoveUndefined,\n  UnionCompute,\n} from '@wagmi/core/internal'\nimport {\n  type AddEthereumChainParameter,\n  type Address,\n  getAddress,\n  type Hex,\n  hexToNumber,\n  numberToHex,\n  type ProviderConnectInfo,\n  type ProviderRpcError,\n  ResourceUnavailableRpcError,\n  type RpcError,\n  SwitchChainError,\n  UserRejectedRequestError,\n  withRetry,\n  withTimeout,\n} from 'viem'\n\nexport type MetaMaskParameters = UnionCompute<\n  WagmiMetaMaskSDKOptions &\n    OneOf<\n      | {\n          /* Shortcut to connect and sign a message */\n          connectAndSign?: string | undefined\n        }\n      | {\n          // TODO: Strongly type `method` and `params`\n          /* Allow `connectWith` any rpc method */\n          connectWith?: { method: string; params: unknown[] } | undefined\n        }\n    >\n>\n\ntype WagmiMetaMaskSDKOptions = Compute<\n  ExactPartial<\n    Omit<\n      MetaMaskSDKOptions,\n      | '_source'\n      | 'forceDeleteProvider'\n      | 'forceInjectProvider'\n      | 'injectProvider'\n      | 'useDeeplink'\n      | 'readonlyRPCMap'\n    >\n  > & {\n    /** @deprecated */\n    forceDeleteProvider?: MetaMaskSDKOptions['forceDeleteProvider']\n    /** @deprecated */\n    forceInjectProvider?: MetaMaskSDKOptions['forceInjectProvider']\n    /** @deprecated */\n    injectProvider?: MetaMaskSDKOptions['injectProvider']\n    /** @deprecated */\n    useDeeplink?: MetaMaskSDKOptions['useDeeplink']\n  }\n>\n\nmetaMask.type = 'metaMask' as const\nexport function metaMask(parameters: MetaMaskParameters = {}) {\n  type Provider = SDKProvider\n  type Properties = {\n    onConnect(connectInfo: ProviderConnectInfo): void\n    onDisplayUri(uri: string): void\n  }\n  type Listener = Parameters<Provider['on']>[1]\n\n  let sdk: MetaMaskSDK\n  let provider: Provider | undefined\n  let providerPromise: Promise<typeof provider>\n\n  let accountsChanged: Connector['onAccountsChanged'] | undefined\n  let chainChanged: Connector['onChainChanged'] | undefined\n  let connect: Connector['onConnect'] | undefined\n  let displayUri: ((uri: string) => void) | undefined\n  let disconnect: Connector['onDisconnect'] | undefined\n\n  return createConnector<Provider, Properties>((config) => ({\n    id: 'metaMaskSDK',\n    name: 'MetaMask',\n    rdns: ['io.metamask', 'io.metamask.mobile'],\n    type: metaMask.type,\n    async setup() {\n      const provider = await this.getProvider()\n      if (provider?.on) {\n        if (!connect) {\n          connect = this.onConnect.bind(this)\n          provider.on('connect', connect as Listener)\n        }\n\n        // We shouldn't need to listen for `'accountsChanged'` here since the `'connect'` event should suffice (and wallet shouldn't be connected yet).\n        // Some wallets, like MetaMask, do not implement the `'connect'` event and overload `'accountsChanged'` instead.\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.on('accountsChanged', accountsChanged as Listener)\n        }\n      }\n    },\n    async connect({ chainId, isReconnecting } = {}) {\n      const provider = await this.getProvider()\n      if (!displayUri) {\n        displayUri = this.onDisplayUri\n        provider.on('display_uri', displayUri as Listener)\n      }\n\n      let accounts: readonly Address[] = []\n      if (isReconnecting) accounts = await this.getAccounts().catch(() => [])\n\n      try {\n        let signResponse: string | undefined\n        let connectWithResponse: unknown | undefined\n        if (!accounts?.length) {\n          if (parameters.connectAndSign || parameters.connectWith) {\n            if (parameters.connectAndSign)\n              signResponse = await sdk.connectAndSign({\n                msg: parameters.connectAndSign,\n              })\n            else if (parameters.connectWith)\n              connectWithResponse = await sdk.connectWith({\n                method: parameters.connectWith.method,\n                params: parameters.connectWith.params,\n              })\n\n            accounts = await this.getAccounts()\n          } else {\n            const requestedAccounts = (await sdk.connect()) as string[]\n            accounts = requestedAccounts.map((x) => getAddress(x))\n          }\n        }\n        // Switch to chain if provided\n        let currentChainId = (await this.getChainId()) as number\n        if (chainId && currentChainId !== chainId) {\n          const chain = await this.switchChain!({ chainId }).catch((error) => {\n            if (error.code === UserRejectedRequestError.code) throw error\n            return { id: currentChainId }\n          })\n          currentChainId = chain?.id ?? currentChainId\n        }\n\n        if (displayUri) {\n          provider.removeListener('display_uri', displayUri)\n          displayUri = undefined\n        }\n\n        if (signResponse)\n          provider.emit('connectAndSign', {\n            accounts,\n            chainId: currentChainId,\n            signResponse,\n          })\n        else if (connectWithResponse)\n          provider.emit('connectWith', {\n            accounts,\n            chainId: currentChainId,\n            connectWithResponse,\n          })\n\n        // Manage EIP-1193 event listeners\n        // https://eips.ethereum.org/EIPS/eip-1193#events\n        if (connect) {\n          provider.removeListener('connect', connect)\n          connect = undefined\n        }\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.on('accountsChanged', accountsChanged as Listener)\n        }\n        if (!chainChanged) {\n          chainChanged = this.onChainChanged.bind(this)\n          provider.on('chainChanged', chainChanged as Listener)\n        }\n        if (!disconnect) {\n          disconnect = this.onDisconnect.bind(this)\n          provider.on('disconnect', disconnect as Listener)\n        }\n\n        return { accounts, chainId: currentChainId }\n      } catch (err) {\n        const error = err as RpcError\n        if (error.code === UserRejectedRequestError.code)\n          throw new UserRejectedRequestError(error)\n        if (error.code === ResourceUnavailableRpcError.code)\n          throw new ResourceUnavailableRpcError(error)\n        throw error\n      }\n    },\n    async disconnect() {\n      const provider = await this.getProvider()\n\n      // Manage EIP-1193 event listeners\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n      if (!connect) {\n        connect = this.onConnect.bind(this)\n        provider.on('connect', connect as Listener)\n      }\n\n      await sdk.terminate()\n    },\n    async getAccounts() {\n      const provider = await this.getProvider()\n      const accounts = (await provider.request({\n        method: 'eth_accounts',\n      })) as string[]\n      return accounts.map((x) => getAddress(x))\n    },\n    async getChainId() {\n      const provider = await this.getProvider()\n      const chainId =\n        provider.getChainId() ||\n        (await provider?.request({ method: 'eth_chainId' }))\n      return Number(chainId)\n    },\n    async getProvider() {\n      async function initProvider() {\n        // Unwrapping import for Vite compatibility.\n        // See: https://github.com/vitejs/vite/issues/9703\n        const MetaMaskSDK = await (async () => {\n          const { default: SDK } = await import('@metamask/sdk')\n          if (typeof SDK !== 'function' && typeof SDK.default === 'function')\n            return SDK.default\n          return SDK as unknown as typeof SDK.default\n        })()\n\n        const readonlyRPCMap: RPC_URLS_MAP = {}\n        for (const chain of config.chains)\n          readonlyRPCMap[numberToHex(chain.id)] = extractRpcUrls({\n            chain,\n            transports: config.transports,\n          })?.[0]\n\n        sdk = new MetaMaskSDK({\n          _source: 'wagmi',\n          forceDeleteProvider: false,\n          forceInjectProvider: false,\n          injectProvider: false,\n          // Workaround cast since MetaMask SDK does not support `'exactOptionalPropertyTypes'`\n          ...(parameters as RemoveUndefined<typeof parameters>),\n          readonlyRPCMap,\n          dappMetadata: {\n            ...parameters.dappMetadata,\n            // Test if name and url are set AND not empty\n            name: parameters.dappMetadata?.name\n              ? parameters.dappMetadata?.name\n              : 'wagmi',\n            url: parameters.dappMetadata?.url\n              ? parameters.dappMetadata?.url\n              : typeof window !== 'undefined'\n                ? window.location.origin\n                : 'https://wagmi.sh',\n          },\n          useDeeplink: parameters.useDeeplink ?? true,\n        })\n        const result = await sdk.init()\n        // On initial load, sometimes `sdk.getProvider` does not return provider.\n        // https://github.com/wevm/wagmi/issues/4367\n        // Use result of `init` call if available.\n        const provider = (() => {\n          if (result?.activeProvider) return result.activeProvider\n          return sdk.getProvider()\n        })()\n        if (!provider) throw new ProviderNotFoundError()\n        return provider\n      }\n\n      if (!provider) {\n        if (!providerPromise) providerPromise = initProvider()\n        provider = await providerPromise\n      }\n      return provider!\n    },\n    async isAuthorized() {\n      try {\n        // MetaMask mobile provider sometimes fails to immediately resolve\n        // JSON-RPC requests on page load\n        const timeout = 200\n        const accounts = await withRetry(\n          () => withTimeout(() => this.getAccounts(), { timeout }),\n          {\n            delay: timeout + 1,\n            retryCount: 3,\n          },\n        )\n        return !!accounts.length\n      } catch {\n        return false\n      }\n    },\n    async switchChain({ addEthereumChainParameter, chainId }) {\n      const provider = await this.getProvider()\n\n      const chain = config.chains.find((x) => x.id === chainId)\n      if (!chain) throw new SwitchChainError(new ChainNotConfiguredError())\n\n      try {\n        await provider.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{ chainId: numberToHex(chainId) }],\n        })\n\n        // During `'wallet_switchEthereumChain'`, MetaMask makes a `'net_version'` RPC call to the target chain.\n        // If this request fails, MetaMask does not emit the `'chainChanged'` event, but will still switch the chain.\n        // To counter this behavior, we request and emit the current chain ID to confirm the chain switch either via\n        // this callback or an externally emitted `'chainChanged'` event.\n        // https://github.com/MetaMask/metamask-extension/issues/24247\n        await waitForChainIdToSync()\n        await sendAndWaitForChangeEvent(chainId)\n\n        return chain\n      } catch (err) {\n        const error = err as RpcError\n\n        if (error.code === UserRejectedRequestError.code)\n          throw new UserRejectedRequestError(error)\n\n        // Indicates chain is not added to provider\n        if (\n          error.code === 4902 ||\n          // Unwrapping for MetaMask Mobile\n          // https://github.com/MetaMask/metamask-mobile/issues/2944#issuecomment-976988719\n          (error as ProviderRpcError<{ originalError?: { code: number } }>)\n            ?.data?.originalError?.code === 4902\n        ) {\n          try {\n            await provider.request({\n              method: 'wallet_addEthereumChain',\n              params: [\n                {\n                  blockExplorerUrls: (() => {\n                    const { default: blockExplorer, ...blockExplorers } =\n                      chain.blockExplorers ?? {}\n                    if (addEthereumChainParameter?.blockExplorerUrls)\n                      return addEthereumChainParameter.blockExplorerUrls\n                    if (blockExplorer)\n                      return [\n                        blockExplorer.url,\n                        ...Object.values(blockExplorers).map((x) => x.url),\n                      ]\n                    return\n                  })(),\n                  chainId: numberToHex(chainId),\n                  chainName: addEthereumChainParameter?.chainName ?? chain.name,\n                  iconUrls: addEthereumChainParameter?.iconUrls,\n                  nativeCurrency:\n                    addEthereumChainParameter?.nativeCurrency ??\n                    chain.nativeCurrency,\n                  rpcUrls: (() => {\n                    if (addEthereumChainParameter?.rpcUrls?.length)\n                      return addEthereumChainParameter.rpcUrls\n                    return [chain.rpcUrls.default?.http[0] ?? '']\n                  })(),\n                } satisfies AddEthereumChainParameter,\n              ],\n            })\n\n            await waitForChainIdToSync()\n            await sendAndWaitForChangeEvent(chainId)\n\n            return chain\n          } catch (err) {\n            const error = err as RpcError\n            if (error.code === UserRejectedRequestError.code)\n              throw new UserRejectedRequestError(error)\n            throw new SwitchChainError(error)\n          }\n        }\n\n        throw new SwitchChainError(error)\n      }\n\n      async function waitForChainIdToSync() {\n        // On mobile, there is a race condition between the result of `'wallet_addEthereumChain'` and `'eth_chainId'`.\n        // To avoid this, we wait for `'eth_chainId'` to return the expected chain ID with a retry loop.\n        await withRetry(\n          async () => {\n            const value = hexToNumber(\n              // `'eth_chainId'` is cached by the MetaMask SDK side to avoid unnecessary deeplinks\n              (await provider.request({ method: 'eth_chainId' })) as Hex,\n            )\n            // `value` doesn't match expected `chainId`, throw to trigger retry\n            if (value !== chainId)\n              throw new Error('User rejected switch after adding network.')\n            return value\n          },\n          {\n            delay: 50,\n            retryCount: 20, // android device encryption is slower\n          },\n        )\n      }\n\n      async function sendAndWaitForChangeEvent(chainId: number) {\n        await new Promise<void>((resolve) => {\n          const listener = ((data) => {\n            if ('chainId' in data && data.chainId === chainId) {\n              config.emitter.off('change', listener)\n              resolve()\n            }\n          }) satisfies Parameters<typeof config.emitter.on>[1]\n          config.emitter.on('change', listener)\n          config.emitter.emit('change', { chainId })\n        })\n      }\n    },\n    async onAccountsChanged(accounts) {\n      // Disconnect if there are no accounts\n      if (accounts.length === 0) {\n        // ... and using browser extension\n        if (sdk.isExtensionActive()) this.onDisconnect()\n        // FIXME(upstream): Mobile app sometimes emits invalid `accountsChanged` event with empty accounts array\n        else return\n      }\n      // Connect if emitter is listening for connect event (e.g. is disconnected and connects through wallet interface)\n      else if (config.emitter.listenerCount('connect')) {\n        const chainId = (await this.getChainId()).toString()\n        this.onConnect({ chainId })\n      }\n      // Regular change event\n      else\n        config.emitter.emit('change', {\n          accounts: accounts.map((x) => getAddress(x)),\n        })\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onConnect(connectInfo) {\n      const accounts = await this.getAccounts()\n      if (accounts.length === 0) return\n\n      const chainId = Number(connectInfo.chainId)\n      config.emitter.emit('connect', { accounts, chainId })\n\n      const provider = await this.getProvider()\n      if (connect) {\n        provider.removeListener('connect', connect)\n        connect = undefined\n      }\n      if (!accountsChanged) {\n        accountsChanged = this.onAccountsChanged.bind(this)\n        provider.on('accountsChanged', accountsChanged as Listener)\n      }\n      if (!chainChanged) {\n        chainChanged = this.onChainChanged.bind(this)\n        provider.on('chainChanged', chainChanged as Listener)\n      }\n      if (!disconnect) {\n        disconnect = this.onDisconnect.bind(this)\n        provider.on('disconnect', disconnect as Listener)\n      }\n    },\n    async onDisconnect(error) {\n      const provider = await this.getProvider()\n\n      // If MetaMask emits a `code: 1013` error, wait for reconnection before disconnecting\n      // https://github.com/MetaMask/providers/pull/120\n      if (error && (error as RpcError<1013>).code === 1013) {\n        if (provider && !!(await this.getAccounts()).length) return\n      }\n\n      config.emitter.emit('disconnect')\n\n      // Manage EIP-1193 event listeners\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n      if (!connect) {\n        connect = this.onConnect.bind(this)\n        provider.on('connect', connect as Listener)\n      }\n    },\n    onDisplayUri(uri) {\n      config.emitter.emit('message', { type: 'display_uri', data: uri })\n    },\n  }))\n}\n", "import type { SafeAppProvider } from '@safe-global/safe-apps-provider'\nimport type { Opts } from '@safe-global/safe-apps-sdk'\nimport {\n  type Connector,\n  createConnector,\n  ProviderNotFoundError,\n} from '@wagmi/core'\nimport type { Compute } from '@wagmi/core/internal'\nimport { getAddress, withTimeout } from 'viem'\n\nexport type SafeParameters = Compute<\n  Opts & {\n    /**\n     * Connector automatically connects when used as Safe App.\n     *\n     * This flag simulates the disconnect behavior by keeping track of connection status in storage\n     * and only autoconnecting when previously connected by user action (e.g. explicitly choosing to connect).\n     *\n     * @default false\n     */\n    shimDisconnect?: boolean | undefined\n    /**\n     * Timeout in milliseconds for `getInfo` (from the Safe SDK) to resolve.\n     *\n     * `getInfo` does not resolve when not used in Safe App iFrame. This allows the connector to force a timeout.\n     * @default 10\n     */\n    unstable_getInfoTimeout?: number | undefined\n  }\n>\n\nsafe.type = 'safe' as const\nexport function safe(parameters: SafeParameters = {}) {\n  const { shimDisconnect = false } = parameters\n\n  type Provider = SafeAppProvider | undefined\n  type Properties = Record<string, unknown>\n  type StorageItem = { 'safe.disconnected': true }\n\n  let provider_: Provider | undefined\n\n  let disconnect: Connector['onDisconnect'] | undefined\n\n  return createConnector<Provider, Properties, StorageItem>((config) => ({\n    id: 'safe',\n    name: 'Safe',\n    type: safe.type,\n    async connect() {\n      const provider = await this.getProvider()\n      if (!provider) throw new ProviderNotFoundError()\n\n      const accounts = await this.getAccounts()\n      const chainId = await this.getChainId()\n\n      if (!disconnect) {\n        disconnect = this.onDisconnect.bind(this)\n        provider.on('disconnect', disconnect)\n      }\n\n      // Remove disconnected shim if it exists\n      if (shimDisconnect) await config.storage?.removeItem('safe.disconnected')\n\n      return { accounts, chainId }\n    },\n    async disconnect() {\n      const provider = await this.getProvider()\n      if (!provider) throw new ProviderNotFoundError()\n\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n\n      // Add shim signalling connector is disconnected\n      if (shimDisconnect)\n        await config.storage?.setItem('safe.disconnected', true)\n    },\n    async getAccounts() {\n      const provider = await this.getProvider()\n      if (!provider) throw new ProviderNotFoundError()\n      return (await provider.request({ method: 'eth_accounts' })).map(\n        getAddress,\n      )\n    },\n    async getProvider() {\n      // Only allowed in iframe context\n      const isIframe =\n        typeof window !== 'undefined' && window?.parent !== window\n      if (!isIframe) return\n\n      if (!provider_) {\n        const { default: SDK } = await import('@safe-global/safe-apps-sdk')\n        const sdk = new SDK(parameters)\n\n        // `getInfo` hangs when not used in Safe App iFrame\n        // https://github.com/safe-global/safe-apps-sdk/issues/263#issuecomment-1029835840\n        const safe = await withTimeout(() => sdk.safe.getInfo(), {\n          timeout: parameters.unstable_getInfoTimeout ?? 10,\n        })\n        if (!safe) throw new Error('Could not load Safe information')\n        // Unwrapping import for Vite compatibility.\n        // See: https://github.com/vitejs/vite/issues/9703\n        const SafeAppProvider = await (async () => {\n          const Provider = await import('@safe-global/safe-apps-provider')\n          if (\n            typeof Provider.SafeAppProvider !== 'function' &&\n            typeof Provider.default.SafeAppProvider === 'function'\n          )\n            return Provider.default.SafeAppProvider\n          return Provider.SafeAppProvider\n        })()\n        provider_ = new SafeAppProvider(safe, sdk)\n      }\n      return provider_\n    },\n    async getChainId() {\n      const provider = await this.getProvider()\n      if (!provider) throw new ProviderNotFoundError()\n      return Number(provider.chainId)\n    },\n    async isAuthorized() {\n      try {\n        const isDisconnected =\n          shimDisconnect &&\n          // If shim exists in storage, connector is disconnected\n          (await config.storage?.getItem('safe.disconnected'))\n        if (isDisconnected) return false\n\n        const accounts = await this.getAccounts()\n        return !!accounts.length\n      } catch {\n        return false\n      }\n    },\n    onAccountsChanged() {\n      // Not relevant for Safe because changing account requires app reload.\n    },\n    onChainChanged() {\n      // Not relevant for Safe because Safe smart contract wallets only exist on single chain.\n    },\n    onDisconnect() {\n      config.emitter.emit('disconnect')\n    },\n  }))\n}\n", "export const version = '5.9.3'\n", "import {\n  ChainNotConfiguredError,\n  type Connector,\n  createConnector,\n  extractRpcUrls,\n  ProviderNotFoundError,\n} from '@wagmi/core'\nimport type { Compute, ExactPartial, Omit } from '@wagmi/core/internal'\nimport type { EthereumProvider } from '@walletconnect/ethereum-provider'\nimport {\n  type AddEthereumChainParameter,\n  type Address,\n  getAddress,\n  numberToHex,\n  type ProviderConnectInfo,\n  type ProviderRpcError,\n  type RpcError,\n  SwitchChainError,\n  UserRejectedRequestError,\n} from 'viem'\n\ntype WalletConnectConnector = Connector & {\n  onDisplayUri(uri: string): void\n  onSessionDelete(data: { topic: string }): void\n}\n\ntype EthereumProviderOptions = Parameters<(typeof EthereumProvider)['init']>[0]\n\nexport type WalletConnectParameters = Compute<\n  {\n    /**\n     * If a new chain is added to a previously existing configured connector `chains`, this flag\n     * will determine if that chain should be considered as stale. A stale chain is a chain that\n     * WalletConnect has yet to establish a relationship with (e.g. the user has not approved or\n     * rejected the chain).\n     *\n     * This flag mainly affects the behavior when a wallet does not support dynamic chain authorization\n     * with WalletConnect v2.\n     *\n     * If `true` (default), the new chain will be treated as a stale chain. If the user\n     * has yet to establish a relationship (approved/rejected) with this chain in their WalletConnect\n     * session, the connector will disconnect upon the dapp auto-connecting, and the user will have to\n     * reconnect to the dapp (revalidate the chain) in order to approve the newly added chain.\n     * This is the default behavior to avoid an unexpected error upon switching chains which may\n     * be a confusing user experience (e.g. the user will not know they have to reconnect\n     * unless the dapp handles these types of errors).\n     *\n     * If `false`, the new chain will be treated as a potentially valid chain. This means that if the user\n     * has yet to establish a relationship with the chain in their WalletConnect session, wagmi will successfully\n     * auto-connect the user. This comes with the trade-off that the connector will throw an error\n     * when attempting to switch to the unapproved chain if the wallet does not support dynamic session updates.\n     * This may be useful in cases where a dapp constantly\n     * modifies their configured chains, and they do not want to disconnect the user upon\n     * auto-connecting. If the user decides to switch to the unapproved chain, it is important that the\n     * dapp handles this error and prompts the user to reconnect to the dapp in order to approve\n     * the newly added chain.\n     *\n     * @default true\n     */\n    isNewChainsStale?: boolean\n  } & Omit<\n    EthereumProviderOptions,\n    | 'chains'\n    | 'events'\n    | 'optionalChains'\n    | 'optionalEvents'\n    | 'optionalMethods'\n    | 'methods'\n    | 'rpcMap'\n    | 'showQrModal'\n  > &\n    ExactPartial<Pick<EthereumProviderOptions, 'showQrModal'>>\n>\n\nwalletConnect.type = 'walletConnect' as const\nexport function walletConnect(parameters: WalletConnectParameters) {\n  const isNewChainsStale = parameters.isNewChainsStale ?? true\n\n  type Provider = Awaited<ReturnType<(typeof EthereumProvider)['init']>>\n  type Properties = {\n    connect(parameters?: {\n      chainId?: number | undefined\n      isReconnecting?: boolean | undefined\n      pairingTopic?: string | undefined\n    }): Promise<{\n      accounts: readonly Address[]\n      chainId: number\n    }>\n    getNamespaceChainsIds(): number[]\n    getRequestedChainsIds(): Promise<number[]>\n    isChainsStale(): Promise<boolean>\n    onConnect(connectInfo: ProviderConnectInfo): void\n    onDisplayUri(uri: string): void\n    onSessionDelete(data: { topic: string }): void\n    setRequestedChainsIds(chains: number[]): void\n    requestedChainsStorageKey: `${string}.requestedChains`\n  }\n  type StorageItem = {\n    [_ in Properties['requestedChainsStorageKey']]: number[]\n  }\n\n  let provider_: Provider | undefined\n  let providerPromise: Promise<typeof provider_>\n  const NAMESPACE = 'eip155'\n\n  let accountsChanged: WalletConnectConnector['onAccountsChanged'] | undefined\n  let chainChanged: WalletConnectConnector['onChainChanged'] | undefined\n  let connect: WalletConnectConnector['onConnect'] | undefined\n  let displayUri: WalletConnectConnector['onDisplayUri'] | undefined\n  let sessionDelete: WalletConnectConnector['onSessionDelete'] | undefined\n  let disconnect: WalletConnectConnector['onDisconnect'] | undefined\n\n  return createConnector<Provider, Properties, StorageItem>((config) => ({\n    id: 'walletConnect',\n    name: 'WalletConnect',\n    type: walletConnect.type,\n    async setup() {\n      const provider = await this.getProvider().catch(() => null)\n      if (!provider) return\n      if (!connect) {\n        connect = this.onConnect.bind(this)\n        provider.on('connect', connect)\n      }\n      if (!sessionDelete) {\n        sessionDelete = this.onSessionDelete.bind(this)\n        provider.on('session_delete', sessionDelete)\n      }\n    },\n    async connect({ chainId, ...rest } = {}) {\n      try {\n        const provider = await this.getProvider()\n        if (!provider) throw new ProviderNotFoundError()\n        if (!displayUri) {\n          displayUri = this.onDisplayUri\n          provider.on('display_uri', displayUri)\n        }\n\n        let targetChainId = chainId\n        if (!targetChainId) {\n          const state = (await config.storage?.getItem('state')) ?? {}\n          const isChainSupported = config.chains.some(\n            (x) => x.id === state.chainId,\n          )\n          if (isChainSupported) targetChainId = state.chainId\n          else targetChainId = config.chains[0]?.id\n        }\n        if (!targetChainId) throw new Error('No chains found on connector.')\n\n        const isChainsStale = await this.isChainsStale()\n        // If there is an active session with stale chains, disconnect current session.\n        if (provider.session && isChainsStale) await provider.disconnect()\n\n        // If there isn't an active session or chains are stale, connect.\n        if (!provider.session || isChainsStale) {\n          const optionalChains = config.chains\n            .filter((chain) => chain.id !== targetChainId)\n            .map((optionalChain) => optionalChain.id)\n          await provider.connect({\n            optionalChains: [targetChainId, ...optionalChains],\n            ...('pairingTopic' in rest\n              ? { pairingTopic: rest.pairingTopic }\n              : {}),\n          })\n\n          this.setRequestedChainsIds(config.chains.map((x) => x.id))\n        }\n\n        // If session exists and chains are authorized, enable provider for required chain\n        const accounts = (await provider.enable()).map((x) => getAddress(x))\n        const currentChainId = await this.getChainId()\n\n        if (displayUri) {\n          provider.removeListener('display_uri', displayUri)\n          displayUri = undefined\n        }\n        if (connect) {\n          provider.removeListener('connect', connect)\n          connect = undefined\n        }\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.on('accountsChanged', accountsChanged)\n        }\n        if (!chainChanged) {\n          chainChanged = this.onChainChanged.bind(this)\n          provider.on('chainChanged', chainChanged)\n        }\n        if (!disconnect) {\n          disconnect = this.onDisconnect.bind(this)\n          provider.on('disconnect', disconnect)\n        }\n        if (!sessionDelete) {\n          sessionDelete = this.onSessionDelete.bind(this)\n          provider.on('session_delete', sessionDelete)\n        }\n\n        return { accounts, chainId: currentChainId }\n      } catch (error) {\n        if (\n          /(user rejected|connection request reset)/i.test(\n            (error as ProviderRpcError)?.message,\n          )\n        ) {\n          throw new UserRejectedRequestError(error as Error)\n        }\n        throw error\n      }\n    },\n    async disconnect() {\n      const provider = await this.getProvider()\n      try {\n        await provider?.disconnect()\n      } catch (error) {\n        if (!/No matching key/i.test((error as Error).message)) throw error\n      } finally {\n        if (chainChanged) {\n          provider?.removeListener('chainChanged', chainChanged)\n          chainChanged = undefined\n        }\n        if (disconnect) {\n          provider?.removeListener('disconnect', disconnect)\n          disconnect = undefined\n        }\n        if (!connect) {\n          connect = this.onConnect.bind(this)\n          provider?.on('connect', connect)\n        }\n        if (accountsChanged) {\n          provider?.removeListener('accountsChanged', accountsChanged)\n          accountsChanged = undefined\n        }\n        if (sessionDelete) {\n          provider?.removeListener('session_delete', sessionDelete)\n          sessionDelete = undefined\n        }\n\n        this.setRequestedChainsIds([])\n      }\n    },\n    async getAccounts() {\n      const provider = await this.getProvider()\n      return provider.accounts.map((x) => getAddress(x))\n    },\n    async getProvider({ chainId } = {}) {\n      async function initProvider() {\n        const optionalChains = config.chains.map((x) => x.id) as [number]\n        if (!optionalChains.length) return\n        const { EthereumProvider } = await import(\n          '@walletconnect/ethereum-provider'\n        )\n        return await EthereumProvider.init({\n          ...parameters,\n          disableProviderPing: true,\n          optionalChains,\n          projectId: parameters.projectId,\n          rpcMap: Object.fromEntries(\n            config.chains.map((chain) => {\n              const [url] = extractRpcUrls({\n                chain,\n                transports: config.transports,\n              })\n              return [chain.id, url]\n            }),\n          ),\n          showQrModal: parameters.showQrModal ?? true,\n        })\n      }\n\n      if (!provider_) {\n        if (!providerPromise) providerPromise = initProvider()\n        provider_ = await providerPromise\n        provider_?.events.setMaxListeners(Number.POSITIVE_INFINITY)\n      }\n      if (chainId) await this.switchChain?.({ chainId })\n      return provider_!\n    },\n    async getChainId() {\n      const provider = await this.getProvider()\n      return provider.chainId\n    },\n    async isAuthorized() {\n      try {\n        const [accounts, provider] = await Promise.all([\n          this.getAccounts(),\n          this.getProvider(),\n        ])\n\n        // If an account does not exist on the session, then the connector is unauthorized.\n        if (!accounts.length) return false\n\n        // If the chains are stale on the session, then the connector is unauthorized.\n        const isChainsStale = await this.isChainsStale()\n        if (isChainsStale && provider.session) {\n          await provider.disconnect().catch(() => {})\n          return false\n        }\n        return true\n      } catch {\n        return false\n      }\n    },\n    async switchChain({ addEthereumChainParameter, chainId }) {\n      const provider = await this.getProvider()\n      if (!provider) throw new ProviderNotFoundError()\n\n      const chain = config.chains.find((x) => x.id === chainId)\n      if (!chain) throw new SwitchChainError(new ChainNotConfiguredError())\n\n      try {\n        await Promise.all([\n          new Promise<void>((resolve) => {\n            const listener = ({\n              chainId: currentChainId,\n            }: {\n              chainId?: number | undefined\n            }) => {\n              if (currentChainId === chainId) {\n                config.emitter.off('change', listener)\n                resolve()\n              }\n            }\n            config.emitter.on('change', listener)\n          }),\n          provider.request({\n            method: 'wallet_switchEthereumChain',\n            params: [{ chainId: numberToHex(chainId) }],\n          }),\n        ])\n\n        const requestedChains = await this.getRequestedChainsIds()\n        this.setRequestedChainsIds([...requestedChains, chainId])\n\n        return chain\n      } catch (err) {\n        const error = err as RpcError\n\n        if (/(user rejected)/i.test(error.message))\n          throw new UserRejectedRequestError(error)\n\n        // Indicates chain is not added to provider\n        try {\n          let blockExplorerUrls: string[] | undefined\n          if (addEthereumChainParameter?.blockExplorerUrls)\n            blockExplorerUrls = addEthereumChainParameter.blockExplorerUrls\n          else\n            blockExplorerUrls = chain.blockExplorers?.default.url\n              ? [chain.blockExplorers?.default.url]\n              : []\n\n          let rpcUrls: readonly string[]\n          if (addEthereumChainParameter?.rpcUrls?.length)\n            rpcUrls = addEthereumChainParameter.rpcUrls\n          else rpcUrls = [...chain.rpcUrls.default.http]\n\n          const addEthereumChain = {\n            blockExplorerUrls,\n            chainId: numberToHex(chainId),\n            chainName: addEthereumChainParameter?.chainName ?? chain.name,\n            iconUrls: addEthereumChainParameter?.iconUrls,\n            nativeCurrency:\n              addEthereumChainParameter?.nativeCurrency ?? chain.nativeCurrency,\n            rpcUrls,\n          } satisfies AddEthereumChainParameter\n\n          await provider.request({\n            method: 'wallet_addEthereumChain',\n            params: [addEthereumChain],\n          })\n\n          const requestedChains = await this.getRequestedChainsIds()\n          this.setRequestedChainsIds([...requestedChains, chainId])\n          return chain\n        } catch (error) {\n          throw new UserRejectedRequestError(error as Error)\n        }\n      }\n    },\n    onAccountsChanged(accounts) {\n      if (accounts.length === 0) this.onDisconnect()\n      else\n        config.emitter.emit('change', {\n          accounts: accounts.map((x) => getAddress(x)),\n        })\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onConnect(connectInfo) {\n      const chainId = Number(connectInfo.chainId)\n      const accounts = await this.getAccounts()\n      config.emitter.emit('connect', { accounts, chainId })\n    },\n    async onDisconnect(_error) {\n      this.setRequestedChainsIds([])\n      config.emitter.emit('disconnect')\n\n      const provider = await this.getProvider()\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n      if (sessionDelete) {\n        provider.removeListener('session_delete', sessionDelete)\n        sessionDelete = undefined\n      }\n      if (!connect) {\n        connect = this.onConnect.bind(this)\n        provider.on('connect', connect)\n      }\n    },\n    onDisplayUri(uri) {\n      config.emitter.emit('message', { type: 'display_uri', data: uri })\n    },\n    onSessionDelete() {\n      this.onDisconnect()\n    },\n    getNamespaceChainsIds() {\n      if (!provider_) return []\n      const chainIds = provider_.session?.namespaces[NAMESPACE]?.accounts?.map(\n        (account) => Number.parseInt(account.split(':')[1] || ''),\n      )\n      return chainIds ?? []\n    },\n    async getRequestedChainsIds() {\n      return (\n        (await config.storage?.getItem(this.requestedChainsStorageKey)) ?? []\n      )\n    },\n    /**\n     * Checks if the target chains match the chains that were\n     * initially requested by the connector for the WalletConnect session.\n     * If there is a mismatch, this means that the chains on the connector\n     * are considered stale, and need to be revalidated at a later point (via\n     * connection).\n     *\n     * There may be a scenario where a dapp adds a chain to the\n     * connector later on, however, this chain will not have been approved or rejected\n     * by the wallet. In this case, the chain is considered stale.\n     */\n    async isChainsStale() {\n      if (!isNewChainsStale) return false\n\n      const connectorChains = config.chains.map((x) => x.id)\n      const namespaceChains = this.getNamespaceChainsIds()\n      if (\n        namespaceChains.length &&\n        !namespaceChains.some((id) => connectorChains.includes(id))\n      )\n        return false\n\n      const requestedChains = await this.getRequestedChainsIds()\n      return !connectorChains.every((id) => requestedChains.includes(id))\n    },\n    async setRequestedChainsIds(chains) {\n      await config.storage?.setItem(this.requestedChainsStorageKey, chains)\n    },\n    get requestedChainsStorageKey() {\n      return `${this.id}.requestedChains` as Properties['requestedChainsStorageKey']\n    },\n  }))\n}\n"],
  "mappings": "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",
  "names": ["chain", "error", "chain", "error", "coerce", "mask", "chain", "provider", "err", "error", "chainId", "safe", "error"]
}
